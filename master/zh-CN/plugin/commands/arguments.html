<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">




<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
     <title>参数分析 &mdash; Sponge 5.0.0 文档</title>
    
  <link rel="stylesheet" href="../../_static/basic.css" type="text/css" />
  <link rel="stylesheet" href="../../_static/sponge.css" type="text/css" />
  <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.6.1/css/font-awesome.min.css" rel="stylesheet" type="text/css" />
  <link href='//fonts.googleapis.com/css?family=Source+Code+Pro|Roboto:400italic,700italic,700,400' rel='stylesheet' type='text/css' />
  <link rel="stylesheet" href="../../_static/tomorrow.css" type="text/css" />
  <link id="syntax-highlighting-ref" rel="stylesheet" href="../../_static/tomorrow_night.css" type="text/css" />
      
  <script type="text/javascript">
    var DOCUMENTATION_OPTIONS = {
      URL_ROOT:    '../../',
      VERSION:     '5.0.0',
      COLLAPSE_INDEX: false,
      FILE_SUFFIX: '.html',
      HAS_SOURCE:  true
    };
  </script>
    <script type="text/javascript" src="../../_static/jquery.js"></script>
    <script type="text/javascript" src="../../_static/underscore.js"></script>
    <script type="text/javascript" src="../../_static/doctools.js"></script>
    <script type="text/javascript" src="../../_static/translations.js"></script>
    <script type="text/javascript" src="../../_static/store.min.js"></script>
    <script type="text/javascript" src="../../_static/lights.js"></script>
      <link rel="shortcut icon" href="../../_static/favicon.ico"/>
        <link rel="top" title="Sponge 5.0.0 文档" href="../../index.html" />
        <link rel="up" title="命令" href="index.html" />
        <link rel="next" title="命令标志" href="flags.html" />
        <link rel="prev" title="创建一个命令" href="creating.html" />
    
  <script type="text/javascript">
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-59476017-2', 'auto');
    ga('send', 'pageview');

  </script>
    
  <link rel="alternate" hreflang="da" href="/master/da/">
  <link rel="alternate" hreflang="de" href="/master/de/">
  <link rel="alternate" hreflang="en-GB" href="/master/en-GB/">
  <link rel="alternate" hreflang="en-PT" href="/master/en-PT/">
  <link rel="alternate" hreflang="en" href="/master/en/">
  <link rel="alternate" hreflang="es-ES" href="/master/es-ES/">
  <link rel="alternate" hreflang="fi" href="/master/fi/">
  <link rel="alternate" hreflang="fr" href="/master/fr/">
  <link rel="alternate" hreflang="it" href="/master/it/">
  <link rel="alternate" hreflang="ja" href="/master/ja/">
  <link rel="alternate" hreflang="ko" href="/master/ko/">
  <link rel="alternate" hreflang="lt" href="/master/lt/">
  <link rel="alternate" hreflang="nb" href="/master/nb/">
  <link rel="alternate" hreflang="nl" href="/master/nl/">
  <link rel="alternate" hreflang="pl" href="/master/pl/">
  <link rel="alternate" hreflang="pt-BR" href="/master/pt-BR/">
  <link rel="alternate" hreflang="pt-PT" href="/master/pt-PT/">
  <link rel="alternate" hreflang="ru" href="/master/ru/">
  <link rel="alternate" hreflang="uk" href="/master/uk/">
  <link rel="alternate" hreflang="zh-CN" href="/master/zh-CN/">
  <link rel="alternate" hreflang="zh-TW" href="/master/zh-TW/">
  <link rel="alternate" hreflang="x-default" href="/"> 
  </head>
  <body role="document" id="top">
    <div class="topbar">
  <div role="navigation" aria-label="related navigation">
    <div class="sp-logo-container sp-not-mobileview sp-mobileview">
      <a class="sp-logo-link" data-auto-route="true" href="/">
        <img height="40px" id="site-logo" class="logo-big" alt="Sponge Forums" src="../../_static/spongelogo.png">
      </a>
      <div class="sp-logo-bg"></div>
      <div class="sp-logo-chevron"><i class="fa fa-fw fa-chevron-down"></i></div>
      <div class="sp-logo-menu sp-skip-handler">
        <ul class="sp-logo-dropdown" id="ddleft">
          <a href="https://www.spongepowered.org"><li><i class="fa-fw fa fa-home"></i>Homepage</li></a>
          <a href="https://forums.spongepowered.org"><li><i class="fa-fw fa fa-comment"></i>Forums</li></a>
          <a href="https://github.com/SpongePowered"><li><i class="fa-fw fa fa-code"></i>Code</li></a>
          <a class="sp-forums-home" href="https://docs.spongepowered.org"><li class="active"><i class="fa-fw fa fa-book"></i>SpongeDocs</li></a>
          <a href="https://jd.spongepowered.org"><li><i class="fa-fw fa fa-graduation-cap"></i>JavaDocs</li></a>
          <a href="https://forums.spongepowered.org/c/plugins/plugin-releases"><li><i class="fa-fw fa fa-plug"></i>Plugins</li></a>
          <a href="https://forums.spongepowered.org/t/sponge-downloads/11448"><li><i class="fa-fw fa fa-download"></i>Get Sponge</li></a>
        </ul>
      </div>
    </div>
    <div class="menu-right">
      <div><i class="fa fa-fw fa-globe"></i></div>
        <ul class="dropdown" id="ddlang">
          <li><a href="/master/da/" class="lang"><img src="//d1ztvzf22lmr1j.cloudfront.net/images/flags/da.png" alt="Flag for Danish"/></a></li>
          <li><a href="/master/de/" class="lang"><img src="//d1ztvzf22lmr1j.cloudfront.net/images/flags/de.png" alt="Flag for German"/></a></li>
          <li><a href="/master/en-GB/" class="lang"><img src="//d1ztvzf22lmr1j.cloudfront.net/images/flags/en-GB.png" alt="Flag for English, United Kingdom"/></a></li>
          <li><a href="/master/en-PT/" class="lang"><img src="//d1ztvzf22lmr1j.cloudfront.net/images/flags/en-PT.png" alt="Flag for Pirate English"/></a></li>
          <li><a href="/master/en/" class="lang"><img src="//d1ztvzf22lmr1j.cloudfront.net/images/flags/en.png" alt="Flag for English"/></a></li>
          <li><a href="/master/es-ES/" class="lang"><img src="//d1ztvzf22lmr1j.cloudfront.net/images/flags/es-ES.png" alt="Flag for Spanish"/></a></li>
          <li><a href="/master/fi/" class="lang"><img src="//d1ztvzf22lmr1j.cloudfront.net/images/flags/fi.png" alt="Flag for Finnish"/></a></li>
          <li><a href="/master/fr/" class="lang"><img src="//d1ztvzf22lmr1j.cloudfront.net/images/flags/fr.png" alt="Flag for French"/></a></li>
          <li><a href="/master/it/" class="lang"><img src="//d1ztvzf22lmr1j.cloudfront.net/images/flags/it.png" alt="Flag for Italian"/></a></li>
          <li><a href="/master/ja/" class="lang"><img src="//d1ztvzf22lmr1j.cloudfront.net/images/flags/ja.png" alt="Flag for Japanese"/></a></li>
          <li><a href="/master/ko/" class="lang"><img src="//d1ztvzf22lmr1j.cloudfront.net/images/flags/ko.png" alt="Flag for Korean"/></a></li>
          <li><a href="/master/lt/" class="lang"><img src="//d1ztvzf22lmr1j.cloudfront.net/images/flags/lt.png" alt="Flag for Lithuanian"/></a></li>
          <li><a href="/master/nb/" class="lang"><img src="//d1ztvzf22lmr1j.cloudfront.net/images/flags/nb.png" alt="Flag for Norwegian Bokmal"/></a></li>
          <li><a href="/master/nl/" class="lang"><img src="//d1ztvzf22lmr1j.cloudfront.net/images/flags/nl.png" alt="Flag for Dutch"/></a></li>
          <li><a href="/master/pl/" class="lang"><img src="//d1ztvzf22lmr1j.cloudfront.net/images/flags/pl.png" alt="Flag for Polish"/></a></li>
          <li><a href="/master/pt-BR/" class="lang"><img src="//d1ztvzf22lmr1j.cloudfront.net/images/flags/pt-BR.png" alt="Flag for Portuguese, Brazilian"/></a></li>
          <li><a href="/master/pt-PT/" class="lang"><img src="//d1ztvzf22lmr1j.cloudfront.net/images/flags/pt-PT.png" alt="Flag for Portuguese"/></a></li>
          <li><a href="/master/ru/" class="lang"><img src="//d1ztvzf22lmr1j.cloudfront.net/images/flags/ru.png" alt="Flag for Russian"/></a></li>
          <li><a href="/master/uk/" class="lang"><img src="//d1ztvzf22lmr1j.cloudfront.net/images/flags/uk.png" alt="Flag for Ukrainian"/></a></li>
          <li><a href="/master/zh-CN/" class="lang"><img src="//d1ztvzf22lmr1j.cloudfront.net/images/flags/zh-CN.png" alt="Flag for Chinese Simplified"/></a></li>
          <li><a href="/master/zh-TW/" class="lang"><img src="//d1ztvzf22lmr1j.cloudfront.net/images/flags/zh-TW.png" alt="Flag for Chinese Traditional"/></a></li>
        </ul>
    </div>
    <div class="menu-right">
      <div><i class="fa fa-fw fa-tag"></i><a>5.0.0</a></div>
        <ul class="dropdown" id="ddvers">
          <li><a href="/master/en/"><i class="fa fa-fw fa-tag"></i> latest</a></li>
          <li><a href="/4.1.0/en/"><i class="fa fa-fw fa-tag"></i> 4.1.0</a></li>
          <li><a href="/3.1.0/en/"><i class="fa fa-fw fa-tag"></i> 3.1.0</a></li>
        </ul>
    </div>
    <div class="menu-right">
      <div title="Toggle syntax highlighting between light and dark" class="lights">
        <i class="fa fa-fw fa-lightbulb-o"></i>
      </div>
    </div>
    <div>
      <ul class="controls">
        <li>|</li>
        
        <li><a href="flags.html" title="Next Page"><i class="fa fa-fw fa-chevron-right"></i></a></li>
        
        <li><a href="#top" title="To the top"><i class="fa fa-fw fa-chevron-up"></i></a></li>
        <li><a href="../../index.html" title="Home"><i class="fa fa-fw fa-home"></i></a></li>
        
        <li><a href="creating.html" title="Previous Page"><i class="fa fa-fw fa-chevron-left"></i></a></li>
        
        <li>|</li>
        
          <li><a href="https://github.com/SpongePowered/SpongeDocs/blob/master/source/plugin/commands/arguments.rst" title="Edit on GitHub"><i class="fa fa-fw fa-github"></i></a></li>
        
      </ul>
    </div>
    <h3>导航</h3>
  </div>
    </div>
    <div class="container">

      <div class="breadcrumbs">
        <ul>
        <li><a href="../../index.html">Sponge 5.0.0 文档</a><i class="fa fa-fw fa-chevron-right"></i></li>
        <li><a href="../index.html" >插件开发</a><i class="fa fa-fw fa-chevron-right"></i></li>
        <li><a href="index.html" accesskey="U">命令</a><i class="fa fa-fw fa-chevron-right"></i></li>
        </ul>
      </div> 
    <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
      <div class="sphinxsidebarwrapper">
<div id="searchbox" style="display: none" role="search">
    <form class="search" action="../../search.html" method="get">
      <div class="searchbox-inner">
        <input class="field" type="text" name="q" autocomplete="off" />
        <button class="submit" type="submit"><i class="fa fa-fw fa-search" aria-hidden="true"></i></button>
        <input type="hidden" name="check_keywords" value="yes" />
        <input type="hidden" name="area" value="default" />
      </div>
    </form>
    <p class="searchtip" style="font-size: 90%"></p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script><h3><a href="../../index.html">內容目录</a></h3>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../server/index.html">创建服务器</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../server/getting-started/index.html">入门指南</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../server/getting-started/jre.html">安装 Java</a><ul class="simple">
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../server/getting-started/migrating.html">迁移到 Sponge</a><ul class="simple">
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../server/getting-started/implementations/index.html">选择一个实现</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../server/getting-started/implementations/spongeforge.html">安装SpongeForge</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../server/getting-started/implementations/spongevanilla.html">安装 SpongeVanilla</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../server/getting-started/launch-script.html">创建启动脚本</a><ul class="simple">
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../server/getting-started/port-forward.html">端口转发</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../server/getting-started/bungeecord.html">和 BungeeCord 配合使用</a><ul class="simple">
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../server/getting-started/configuration/index.html">配置 Sponge</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../server/getting-started/configuration/hocon.html">HOCON 简介</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../server/getting-started/configuration/json.html">JSON 语法</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../server/getting-started/configuration/sponge-conf.html">global.conf 文件</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../server/getting-started/configuration/server-properties.html">server.properties 文件</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../server/management/index.html">服务器管理</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../server/management/whitelist.html">管理白名单</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../server/management/bans.html">管理—封禁</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../server/management/permissions.html">权限管理</a><ul class="simple">
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../server/management/plugins.html">安装插件</a><ul class="simple">
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../server/management/exploit-patches.html">漏洞修复</a><ul class="simple">
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../server/management/performance-tweaks.html">性能调优</a><ul class="simple">
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../server/spongineer/index.html">成为 Sponge 专家</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../server/spongineer/commands.html">命令</a><ul class="simple">
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../server/spongineer/troubleshooting.html">故障排查</a><ul class="simple">
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../server/spongineer/logs.html">日志文件</a><ul class="simple">
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../server/spongineer/debugging.html">Debugging</a><ul class="simple">
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../server/spongineer/bugreport.html">报告问题</a></li>
</ul>
</li>
</ul>
</li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../preparing/index.html">为开发做准备</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../preparing/jdk.html">安装 JDK</a><ul class="simple">
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../preparing/ide.html">安装 IDE</a><ul class="simple">
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../preparing/text.html">安装一个文本编辑器</a><ul class="simple">
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../preparing/git.html">安装 Git</a><ul class="simple">
</ul>
</li>
</ul>
</li>
</ul>
<ul class="current">
<li class="toctree-l1 current"><a class="reference internal" href="../index.html">插件开发</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../buildsystem.html">构建系统</a><ul class="simple">
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../workspace/index.html">建立工作目录</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../workspace/idea.html">设置 IntelliJ IDEA</a><ul class="simple">
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../workspace/eclipse.html">设置 Eclipse</a><ul class="simple">
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../project/index.html">设置你的项目</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../project/gradle.html">设置 Gradle</a><ul class="simple">
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../project/maven.html">设置 Maven</a><ul class="simple">
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../plugin-identifier.html">插件标识符</a></li>
<li class="toctree-l2"><a class="reference internal" href="../plugin-class.html">插件的主类</a><ul class="simple">
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../lifecycle.html">插件的生命周期</a><ul class="simple">
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../injection.html">依赖注入</a><ul class="simple">
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../practices.html">Sponge 插件开发指南</a><ul class="simple">
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../optional/index.html">使用 Optional</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../optional/basic.html">对于 Optional 的解释</a><ul class="simple">
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../optional/usage.html">用法示例</a><ul class="simple">
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../logging.html">日志记录和调试</a><ul class="simple">
</ul>
</li>
<li class="toctree-l2 current"><a class="reference internal" href="index.html">命令</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="creating.html">创建一个命令</a><ul class="simple">
</ul>
</li>
<li class="toctree-l3 current"><a class="current reference internal" href="">参数分析</a><ul class="simple">
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="flags.html">命令标志</a><ul class="simple">
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="childcommands.html">子命令</a></li>
<li class="toctree-l3"><a class="reference internal" href="service.html">命令管理器</a></li>
<li class="toctree-l3"><a class="reference internal" href="commandcallable.html">低级别命令 API</a><ul class="simple">
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../event/index.html">事件</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../event/listeners.html">事件监听器</a><ul class="simple">
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../event/causes.html">事件原因</a><ul class="simple">
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../event/filters.html">事件过滤</a><ul class="simple">
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../event/custom.html">自定义事件</a><ul class="simple">
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../assets.html">使用 Asset API</a><ul class="simple">
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../configuration/index.html">插件配置</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../configuration/loaders.html">配置加载器</a><ul class="simple">
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../configuration/nodes.html">配置节点</a><ul class="simple">
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../configuration/serialization.html">序列化对象</a><ul class="simple">
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../text/index.html">文本 API</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../text/text.html">创建文本</a><ul class="simple">
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../text/representations/index.html">序列化文本</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../text/representations/formatting-code-legacy.html">格式化与原生字符串</a></li>
<li class="toctree-l4"><a class="reference internal" href="../text/representations/xml.html">XML 格式</a></li>
<li class="toctree-l4"><a class="reference internal" href="../text/representations/json.html">JSON 格式</a></li>
<li class="toctree-l4"><a class="reference internal" href="../text/representations/configurate.html">配置文件格式</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../text/pagination.html">分页</a><ul class="simple">
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../text/messagechannels.html">信道</a><ul class="simple">
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../text/templates.html">文本模板</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../data/index.html">数据 API</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../data/keys.html">使用数据键</a><ul class="simple">
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../data/datamanipulators.html">操作数据</a><ul class="simple">
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../data/transactions.html">数据操作记录</a><ul class="simple">
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../data/serialization.html">序列化数据</a><ul class="simple">
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../blocks/index.html">方块</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../blocks/concepts.html">概念</a><ul class="simple">
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../blocks/accessing.html">访问方块</a><ul class="simple">
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../blocks/modifying.html">修改方块</a><ul class="simple">
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../blocks/tileentities.html">方块的 Tile Entity</a><ul class="simple">
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../blocks/virtualblock.html">虚拟方块更改</a><ul class="simple">
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../entities/index.html">实体</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../entities/spawning.html">生成一个实体</a></li>
<li class="toctree-l3"><a class="reference internal" href="../entities/modifying.html">修改一个实体</a><ul class="simple">
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../items/index.html">物品</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../items/usage.html">基本用法</a><ul class="simple">
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../items/creating.html">物品的创建</a><ul class="simple">
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../effects.html">效果</a><ul class="simple">
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../scheduler.html">调度器</a><ul class="simple">
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../services.html">服务</a><ul class="simple">
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../database.html">数据库</a><ul class="simple">
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../permissions.html">权限</a><ul class="simple">
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../bans.html">黑名单</a><ul class="simple">
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../bookview.html">成书</a></li>
<li class="toctree-l2"><a class="reference internal" href="../economy/index.html">经济 API</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../economy/basics.html">基本概念</a><ul class="simple">
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../economy/using.html">使用经济 API</a><ul class="simple">
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../economy/practices.html">注意事项</a><ul class="simple">
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../economy/implementing.html">实现一个经济 API</a><ul class="simple">
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../wgen/index.html">世界生成</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../wgen/modifiers.html">世界生成修改器</a><ul class="simple">
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../wgen/customwgen.html">改变世界生成</a><ul class="simple">
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../manager.html">插件管理器</a><ul class="simple">
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../game-profile-manager.html">玩家资料管理器</a><ul class="simple">
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../offline-userplayer-data.html">离线玩家数据</a><ul class="simple">
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../debugging.html">调试插件</a><ul class="simple">
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../tab-lists.html">玩家列表</a><ul class="simple">
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../plugin-meta.html">插件的元数据</a><ul class="simple">
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../ray-tracing.html">光线追踪</a><ul class="simple">
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../bukkit-sponge-compare.html">Bukkit 和 SpongeAPI 的比较</a></li>
<li class="toctree-l2"><a class="reference internal" href="../tutorials.html">教程</a><ul class="simple">
</ul>
</li>
</ul>
</li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../contributing/index.html">向 Sponge 贡献代码</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../contributing/guidelines.html">贡献指南</a><ul class="simple">
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../contributing/howtogit.html">如何使用 Git（Hub）</a><ul class="simple">
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../contributing/implementation/index.html">参与到 Sponge 的开发工作来</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../contributing/implementation/codestyle.html">代码规范</a><ul class="simple">
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../contributing/implementation/git-implementation.html">Sponge API 及其实现的 Git 工作流程</a><ul class="simple">
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../contributing/implementation/pr.html">提交一个 Pull Request</a><ul class="simple">
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../contributing/implementation/debugging.html">在 IDE 中调试</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../contributing/implementation/mixins.html">使用 Mixin</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../contributing/implementation/datamanipulator.html">实现数据操纵器</a><ul class="simple">
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../contributing/spongedocs.html">开发文档</a><ul class="simple">
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../contributing/porting.html">将 Sponge 移植到其他平台</a><ul class="simple">
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../contributing/versioning.html">版本系统和项目仓库分支结构</a><ul class="simple">
</ul>
</li>
</ul>
</li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../about/index.html">关于 Sponge 项目</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../about/introduction.html">简介</a><ul class="simple">
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../about/faq.html">常见问题及解答</a><ul class="simple">
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../about/structure.html">Sponge 的项目结构</a><ul class="simple">
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../about/future.html">未来计划</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../about/license.html">许可</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../about/posting.html">论坛发帖准则</a><ul class="simple">
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../about/rules.html">论坛及 IRC 准则</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../about/staff.html">项目组成成员</a><ul class="simple">
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../about/glossary.html">Sponge 术语表</a><ul class="simple">
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../about/assets.html">艺术内容</a><ul class="simple">
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../about/history.html">Sponge 的历史</a><ul class="simple">
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../downloads.html">下载</a><ul class="simple">
</ul>
</li>
</ul>
<ul class="simple">
</ul>

      </div>
    </div> 

        <div class="document">
            <div class="documentwrapper">
              <div class="bodywrapper">
                <div class="body" role="main">
                  
  <div class="section" id="argument-parsing">
<h1>参数分析<a class="headerlink" href="#argument-parsing" title="永久链接至标题">¶</a></h1>
<p>命令生成器（Command Builder）的 API 附带了一个非常强大的参数解析器。它把字符串输入转换为 Java 的基本类型（整数、布尔值、字符串）或游戏中的对象（玩家、世界、方块类型等）。这一解析器支持可选参数和标志，它同时也可以处理使用 TAB 的参数自动补全。</p>
<p>解析过的参数存储在 <a class="reference external" href="https://jd.spongepowered.org/5.0.0/org/spongepowered/api/command/args/CommandContext.html">CommandContext</a> 对象中。如果解析器返回了单个对象，可以通过 <a class="reference external" href="https://jd.spongepowered.org/5.0.0/org/spongepowered/api/command/args/CommandContext.html#getOne-java.lang.String-">CommandContext#getOne(String)</a> 获取。可选参数和弱参数可能会返回 <code class="docutils literal"><span class="pre">Optional.empty()</span></code>。</p>
<p>很多解析器可能会返回多个对象（例如匹配用户名的多个玩家）。在这种情况下，你必须使用 <a class="reference external" href="https://jd.spongepowered.org/5.0.0/org/spongepowered/api/command/args/CommandContext.html#getAll-java.lang.String-">CommandContext#getAll(String)</a> 以获取所有可能的匹配项对应的 <code class="docutils literal"><span class="pre">Collection</span></code>，<strong>否则上下文对象会抛出异常</strong>！</p>
<div class="admonition tip">
<p class="first admonition-title">小技巧</p>
<p class="last">你可以使用 <a class="reference external" href="https://jd.spongepowered.org/5.0.0/org/spongepowered/api/command/args/GenericArguments.html#onlyOne-org.spongepowered.api.command.args.CommandElement-">GenericArguments#onlyOne(CommandElement)</a> 限制返回数量只有一个，这样你就可以安全地使用 <code class="docutils literal"><span class="pre">args.&lt;T&gt;getOne(String)</span></code> 了。</p>
</div>
<p>若要创建一个新的 <a class="reference external" href="https://jd.spongepowered.org/5.0.0/org/spongepowered/api/command/args/CommandElement.html">CommandElement</a> （参数），请使用 <a class="reference external" href="https://jd.spongepowered.org/5.0.0/org/spongepowered/api/command/args/GenericArguments.html">GenericArguments</a> 这一工厂类（Factory Class）。许多 <code class="docutils literal"><span class="pre">CommandElement</span></code> 都需要一段短文本用于显示帮助或错误信息。</p>
<p>使用 <a class="reference external" href="https://jd.spongepowered.org/5.0.0/org/spongepowered/api/command/spec/CommandSpec.Builder.html#arguments-CommandElement...-">CommandSpec.Builder#arguments(CommandElement...)</a> 把 <code class="docutils literal"><span class="pre">CommandElement</span></code> 应用到命令生成器上。这一方法可以传入多个 <code class="docutils literal"><span class="pre">CommandElement</span></code> ，这样就可以解析多个参数（例如 <code class="docutils literal"><span class="pre">/msg</span> <span class="pre">&lt;player&gt;</span> <span class="pre">&lt;msg&gt;</span></code> ）。传入多个参数等价于使用 <a class="reference external" href="https://jd.spongepowered.org/5.0.0/org/spongepowered/api/command/args/GenericArguments.html#seq-CommandElement...-">GenericArguments#seq(CommandElement...)</a> 把多个参数包装起来。</p>
<div class="section" id="example-building-a-command-with-multiple-arguments">
<h2>示例：使用命令生成器生成多个参数的命令<a class="headerlink" href="#example-building-a-command-with-multiple-arguments" title="永久链接至标题">¶</a></h2>
<div class="highlight-java"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">org.spongepowered.api.Sponge</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">org.spongepowered.api.text.Text</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">org.spongepowered.api.entity.living.player.Player</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">org.spongepowered.api.command.CommandException</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">org.spongepowered.api.command.CommandResult</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">org.spongepowered.api.command.CommandSource</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">org.spongepowered.api.command.args.CommandContext</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">org.spongepowered.api.command.args.GenericArguments</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">org.spongepowered.api.command.spec.CommandExecutor</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">org.spongepowered.api.command.spec.CommandSpec</span><span class="o">;</span>

<span class="n">CommandSpec</span> <span class="n">myCommandSpec</span> <span class="o">=</span> <span class="n">CommandSpec</span><span class="o">.</span><span class="na">builder</span><span class="o">()</span>
        <span class="o">.</span><span class="na">description</span><span class="o">(</span><span class="n">Text</span><span class="o">.</span><span class="na">of</span><span class="o">(</span><span class="s">&quot;Send a message to a player&quot;</span><span class="o">))</span>
        <span class="o">.</span><span class="na">permission</span><span class="o">(</span><span class="s">&quot;myplugin.command.message&quot;</span><span class="o">)</span>

        <span class="o">.</span><span class="na">arguments</span><span class="o">(</span>
                <span class="n">GenericArguments</span><span class="o">.</span><span class="na">onlyOne</span><span class="o">(</span><span class="n">GenericArguments</span><span class="o">.</span><span class="na">player</span><span class="o">(</span><span class="n">Text</span><span class="o">.</span><span class="na">of</span><span class="o">(</span><span class="s">&quot;player&quot;</span><span class="o">))),</span>
                <span class="n">GenericArguments</span><span class="o">.</span><span class="na">remainingJoinedStrings</span><span class="o">(</span><span class="n">Text</span><span class="o">.</span><span class="na">of</span><span class="o">(</span><span class="s">&quot;message&quot;</span><span class="o">)))</span>

        <span class="o">.</span><span class="na">executor</span><span class="o">(</span><span class="k">new</span> <span class="n">CommandExecutor</span><span class="o">()</span> <span class="o">{</span>
            <span class="nd">@Override</span>
            <span class="kd">public</span> <span class="n">CommandResult</span> <span class="nf">execute</span><span class="o">(</span><span class="n">CommandSource</span> <span class="n">src</span><span class="o">,</span> <span class="n">CommandContext</span> <span class="n">args</span><span class="o">)</span> <span class="kd">throws</span> <span class="n">CommandException</span> <span class="o">{</span>

                <span class="n">Player</span> <span class="n">player</span> <span class="o">=</span> <span class="n">args</span><span class="o">.&lt;</span><span class="n">Player</span><span class="o">&gt;</span><span class="n">getOne</span><span class="o">(</span><span class="s">&quot;player&quot;</span><span class="o">).</span><span class="na">get</span><span class="o">();</span>
                <span class="n">String</span> <span class="n">message</span> <span class="o">=</span> <span class="n">args</span><span class="o">.&lt;</span><span class="n">String</span><span class="o">&gt;</span><span class="n">getOne</span><span class="o">(</span><span class="s">&quot;message&quot;</span><span class="o">).</span><span class="na">get</span><span class="o">();</span>

                <span class="n">player</span><span class="o">.</span><span class="na">sendMessage</span><span class="o">(</span><span class="n">Text</span><span class="o">.</span><span class="na">of</span><span class="o">(</span><span class="n">message</span><span class="o">));</span>

                <span class="k">return</span> <span class="n">CommandResult</span><span class="o">.</span><span class="na">success</span><span class="o">();</span>
            <span class="o">}</span>
        <span class="o">})</span>
        <span class="o">.</span><span class="na">build</span><span class="o">();</span>

<span class="n">Sponge</span><span class="o">.</span><span class="na">getCommandManager</span><span class="o">().</span><span class="na">register</span><span class="o">(</span><span class="n">plugin</span><span class="o">,</span> <span class="n">myCommandSpec</span><span class="o">,</span> <span class="s">&quot;message&quot;</span><span class="o">,</span> <span class="s">&quot;msg&quot;</span><span class="o">,</span> <span class="s">&quot;m&quot;</span><span class="o">);</span>
</pre></div>
</div>
</div>
<div class="section" id="overview-of-the-genericarguments-command-elements">
<h2>对于 <code class="docutils literal"><span class="pre">GenericArguments</span></code> 命令元素的概述<a class="headerlink" href="#overview-of-the-genericarguments-command-elements" title="永久链接至标题">¶</a></h2>
<table border="1" class="docutils">
<colgroup>
<col width="19%" />
<col width="60%" />
<col width="21%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head"><p class="first last">命令元素</p>
</th>
<th class="head"><p class="first last">描述</p>
</th>
<th class="head"><p class="first last">值类型和数量</p>
</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td><code class="docutils literal"><span class="pre">none</span></code></td>
<td><p class="first last">期望没有参数，这也是 <code class="docutils literal"><span class="pre">CommandSpec</span></code> 的默认行为。</p>
</td>
<td>&nbsp;</td>
</tr>
<tr class="row-odd"><td colspan="3"><p class="first last"><strong>Java 基础类型</strong></p>
</td>
</tr>
<tr class="row-even"><td><code class="docutils literal"><span class="pre">string</span></code></td>
<td><p class="first last">期望一个表示字符串的参数。</p>
</td>
<td><p class="first last">一个 <code class="docutils literal"><span class="pre">String</span></code></p>
</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">remainingJoinedStrings</span></code></td>
<td><p class="first last">把所有剩余的参数使用空格连接起来（对于消息命令来说十分有用）。</p>
</td>
<td><p class="first last">一个 <code class="docutils literal"><span class="pre">String</span></code></p>
</td>
</tr>
<tr class="row-even"><td><code class="docutils literal"><span class="pre">bool</span></code></td>
<td><p class="first last">期望一个表示布尔值的参数。</p>
</td>
<td><p class="first last">一个 <code class="docutils literal"><span class="pre">Boolean</span></code></p>
</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">integer</span></code></td>
<td><p class="first last">期望一个表示整数的参数。</p>
</td>
<td><p class="first last">一个 <code class="docutils literal"><span class="pre">Integer</span></code></p>
</td>
</tr>
<tr class="row-even"><td><code class="docutils literal"><span class="pre">doubleNum</span></code></td>
<td><p class="first last">期望一个表示浮点数的参数。</p>
</td>
<td><p class="first last">一个 <code class="docutils literal"><span class="pre">Double</span></code></p>
</td>
</tr>
<tr class="row-odd"><td colspan="3"><p class="first last"><strong>游戏对象</strong></p>
</td>
</tr>
<tr class="row-even"><td><code class="docutils literal"><span class="pre">player</span></code></td>
<td><p class="first last">期望一个表示在线玩家的参数，并 <strong>可能返回多个玩家</strong> ！</p>
</td>
<td><p class="first last">多个 <code class="docutils literal"><span class="pre">Player</span></code> 的实例</p>
</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">playerOrSource</span></code></td>
<td><p class="first last">和 <code class="docutils literal"><span class="pre">player</span></code> 类似，但在没有找到匹配的玩家时返回命令的执行者。</p>
</td>
<td><p class="first last">多个 <code class="docutils literal"><span class="pre">Player</span></code> 的实例</p>
</td>
</tr>
<tr class="row-even"><td><code class="docutils literal"><span class="pre">userOrSource</span></code></td>
<td><p class="first last">和 <code class="docutils literal"><span class="pre">playerOrSource</span></code> 类似，只不过返回一个用户（ <code class="docutils literal"><span class="pre">User</span></code> ）而不是玩家。</p>
</td>
<td><p class="first last">多个 <code class="docutils literal"><span class="pre">User</span></code> 的实例</p>
</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">world</span></code></td>
<td><p class="first last">期望一个表示世界的参数（包括尚未加载的世界）。</p>
</td>
<td><p class="first last">多个 <code class="docutils literal"><span class="pre">WorldProperties</span></code></p>
</td>
</tr>
<tr class="row-even"><td><code class="docutils literal"><span class="pre">dimension</span></code></td>
<td><p class="first last">期望一个表示维度的参数（如 <code class="docutils literal"><span class="pre">END</span></code> 、 <code class="docutils literal"><span class="pre">NETHER</span></code> 、和 <code class="docutils literal"><span class="pre">OVERWORLD</span></code> ）。</p>
</td>
<td><p class="first last">多个 <code class="docutils literal"><span class="pre">DimensionType</span></code> 的实例</p>
</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">location</span></code></td>
<td><p class="first last">期望一个表示坐标（ <code class="docutils literal"><span class="pre">Location</span></code> ）的参数。</p>
</td>
<td><p class="first last">一个 <code class="docutils literal"><span class="pre">Location</span></code></p>
</td>
</tr>
<tr class="row-even"><td><code class="docutils literal"><span class="pre">vector3d</span></code></td>
<td><p class="first last">期望一个表示坐标（ <code class="docutils literal"><span class="pre">Vector3d</span></code> ）的参数。</p>
</td>
<td><p class="first last">一个 <code class="docutils literal"><span class="pre">Vector3d</span></code></p>
</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">catalogedElement</span></code></td>
<td><p class="first last">期望一个表示特定 <a class="reference external" href="https://jd.spongepowered.org/5.0.0/org/spongepowered/api/CatalogType.html">CatalogType</a> 成员的参数。</p>
</td>
<td><p class="first last">多个匹配特定类型（Catalog Type）的元素</p>
</td>
</tr>
<tr class="row-even"><td colspan="3"><p class="first last"><strong>匹配器</strong></p>
</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">choices</span></code></td>
<td><p class="first last">返回一个允许从一组特定的值中选定的参数。</p>
</td>
<td><p class="first last">一个特定的值</p>
</td>
</tr>
<tr class="row-even"><td><code class="docutils literal"><span class="pre">literal</span></code></td>
<td><p class="first last">期望一个表示特定文本序列的参数（例如 <code class="docutils literal"><span class="pre">&quot;i&quot;,</span> <span class="pre">&quot;luv&quot;,</span> <span class="pre">&quot;u&quot;</span></code> 表示 <code class="docutils literal"><span class="pre">/cmd</span> <span class="pre">i</span> <span class="pre">luv</span> <span class="pre">u</span></code> ），如果不匹配则抛出一个异常。</p>
</td>
<td><p class="first last">一个特定的值</p>
</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">enumValue</span></code></td>
<td><p class="first last">期望一个表示给定枚举类型的值的参数。</p>
</td>
<td><p class="first last">多个匹配给定枚举的元素</p>
</td>
</tr>
<tr class="row-even"><td colspan="3"><p class="first"><strong>辅助元素</strong></p>
<p class="last">用于把若干命令元素包装起来。其值类型是从被包装元素继承的。</p>
</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">seq</span></code></td>
<td><p class="first last">生成一串命令元素的序列（例如 <code class="docutils literal"><span class="pre">/cmd</span> <span class="pre">&lt;arg1&gt;</span> <span class="pre">&lt;arg2&gt;</span> <span class="pre">&lt;arg3&gt;</span></code> ）。</p>
</td>
<td><p class="first last">继承</p>
</td>
</tr>
<tr class="row-even"><td><code class="docutils literal"><span class="pre">repeated</span></code></td>
<td><p class="first last">期望一个表示重复数次的命令元素。</p>
</td>
<td><p class="first last">多个继承</p>
</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">allOf</span></code></td>
<td><p class="first last">期望所有剩余的参数匹配给定命令元素。</p>
</td>
<td><p class="first last">多个继承</p>
</td>
</tr>
<tr class="row-even"><td><code class="docutils literal"><span class="pre">optional</span></code></td>
<td><p class="first last">使给定的命令元素可选。如果参数的格式无效或并没有更多的参数，将抛出一个异常。</p>
</td>
<td><p class="first last">继承</p>
</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">optionalWeak</span></code></td>
<td><p class="first last">使给定的命令元素可选。如果参数的格式无效或并没有更多的参数，将不会抛出一个异常。</p>
</td>
<td><p class="first last">继承</p>
</td>
</tr>
<tr class="row-even"><td><code class="docutils literal"><span class="pre">firstParsing</span></code></td>
<td><p class="first last">返回一个匹配第一个给定序列的命令元素（可以很方便地用于命令重载，例如 <code class="docutils literal"><span class="pre">/settime</span> <span class="pre">&lt;day|night|&lt;number&gt;&gt;</span></code> ）。</p>
</td>
<td><p class="first last">继承</p>
</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">onlyOne</span></code></td>
<td><p class="first last">限制给定命令元素，使其只允许在给定上下文插入仅仅一个。</p>
</td>
<td><p class="first last">继承</p>
</td>
</tr>
<tr class="row-even"><td><code class="docutils literal"><span class="pre">flags</span></code></td>
<td><p class="first">返回一个标志（Flag）生成器（例如 <code class="docutils literal"><span class="pre">/cmd</span> <span class="pre">[-a]</span> <span class="pre">[-b</span> <span class="pre">&lt;value&gt;]</span></code> ）。</p>
<p class="last">请参阅 <a class="reference internal" href="flags.html"><em>命令标志</em></a></p>
</td>
<td><p class="first">短标志（Short Flag）：一个 <code class="docutils literal"><span class="pre">Boolean</span></code></p>
<p>长标志（Long Flag）：一个 <code class="docutils literal"><span class="pre">String</span></code></p>
<p class="last">值标志（Value Flag）：继承</p>
</td>
</tr>
<tr class="row-odd"><td><code class="docutils literal"><span class="pre">requiringPermission</span></code></td>
<td><p class="first last">要求命令执行者拥有使用给定命令参数的特定权限</p>
</td>
<td><p class="first last">继承</p>
</td>
</tr>
</tbody>
</table>
<div class="admonition tip">
<p class="first admonition-title">小技巧</p>
<p class="last">详见 <a class="reference external" href="https://jd.spongepowered.org/5.0.0/org/spongepowered/api/command/args/GenericArguments.html">GenericArguments</a> 以获取更详细的信息。</p>
</div>
</div>
<div class="section" id="custom-command-elements">
<h2>自定义命令元素<a class="headerlink" href="#custom-command-elements" title="永久链接至标题">¶</a></h2>
<p>可以通过继承 <code class="docutils literal"><span class="pre">CommandElement</span></code> 类创建自定义命令元素（如解析 URL 或者一个 <code class="docutils literal"><span class="pre">Vector2i</span></code> 元素）。</p>
<p><a class="reference external" href="https://jd.spongepowered.org/5.0.0/org/spongepowered/api/command/args/CommandElement.html#parseValue-org.spongepowered.api.command.CommandSource-org.spongepowered.api.command.args.CommandArgs-">CommandElement#parseValue(CommandSource, CommandArgs)</a> 方法需要通过 <a class="reference external" href="https://jd.spongepowered.org/5.0.0/org/spongepowered/api/command/args/CommandArgs.html#next--">CommandArgs#next()</a> 方法获取没有处理过的字符串并将其转换为一个对象（Object），如果转换出错，应抛出一个 <a class="reference external" href="https://jd.spongepowered.org/5.0.0/org/spongepowered/api/command/args/ArgumentParseException.html">ArgumentParseException</a> 异常。</p>
<p><a class="reference external" href="https://jd.spongepowered.org/5.0.0/org/spongepowered/api/command/args/CommandElement.html#complete-org.spongepowered.api.command.CommandSource-org.spongepowered.api.command.args.CommandArgs-org.spongepowered.api.command.args.CommandContext-">CommandElement#complete(CommandSource, CommandArgs, CommandContext)</a> 方法应使用 <a class="reference external" href="https://jd.spongepowered.org/5.0.0/org/spongepowered/api/command/args/CommandArgs.html#peek--">CommandArgs#peek()</a> 方法读取下一个未处理过的参数。其返回一个 TAB 自动补全的列表。</p>
<div class="section" id="example-vector2i-command-element-definition">
<h3>示例： <code class="docutils literal"><span class="pre">Vector2i</span></code> 命令元素的定义<a class="headerlink" href="#example-vector2i-command-element-definition" title="永久链接至标题">¶</a></h3>
<p>在这一示例中，解析器读取两个传入的参数并将其转换为一个 <code class="docutils literal"><span class="pre">Vector2i</span></code> 。</p>
<div class="highlight-java"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">com.flowpowered.math.vector.Vector2i</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">org.spongepowered.api.command.args.ArgumentParseException</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">org.spongepowered.api.command.args.CommandArgs</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">org.spongepowered.api.text.Text</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">org.spongepowered.api.command.args.CommandElement</span><span class="o">;</span>

<span class="kn">import</span> <span class="nn">java.util.Collections</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.util.List</span><span class="o">;</span>

<span class="kd">public</span> <span class="kd">class</span> <span class="nc">Vector2iCommandElement</span> <span class="kd">extends</span> <span class="n">CommandElement</span> <span class="o">{</span>
    <span class="n">CommandArgs</span> <span class="n">errorargs</span><span class="o">;</span>

    <span class="kd">protected</span> <span class="nf">Vector2iCommandElement</span><span class="o">(</span><span class="n">Text</span> <span class="n">key</span><span class="o">)</span> <span class="o">{</span>
        <span class="kd">super</span><span class="o">(</span><span class="n">key</span><span class="o">);</span>
    <span class="o">}</span>

    <span class="nd">@Override</span>
    <span class="kd">protected</span> <span class="n">Object</span> <span class="nf">parseValue</span><span class="o">(</span><span class="n">CommandSource</span> <span class="n">source</span><span class="o">,</span> <span class="n">CommandArgs</span> <span class="n">args</span><span class="o">)</span> <span class="kd">throws</span> <span class="n">ArgumentParseException</span> <span class="o">{</span>

        <span class="c1">// &lt;x&gt; &lt;y&gt;</span>
        <span class="n">errorargs</span><span class="o">=</span><span class="n">args</span><span class="o">;</span>

        <span class="n">String</span> <span class="n">xInput</span> <span class="o">=</span> <span class="n">args</span><span class="o">.</span><span class="na">next</span><span class="o">();</span>
        <span class="kt">int</span> <span class="n">x</span> <span class="o">=</span> <span class="n">parseInt</span><span class="o">(</span><span class="n">xInput</span><span class="o">);</span>

        <span class="n">String</span> <span class="n">yInput</span> <span class="o">=</span> <span class="n">args</span><span class="o">.</span><span class="na">next</span><span class="o">();</span>
        <span class="kt">int</span> <span class="n">y</span> <span class="o">=</span> <span class="n">parseInt</span><span class="o">(</span><span class="n">yInput</span><span class="o">);</span>

        <span class="k">return</span> <span class="k">new</span> <span class="n">Vector2i</span><span class="o">(</span><span class="n">x</span><span class="o">,</span> <span class="n">y</span><span class="o">);</span>
    <span class="o">}</span>

    <span class="kd">private</span> <span class="kt">int</span> <span class="nf">parseInt</span><span class="o">(</span><span class="n">String</span> <span class="n">input</span><span class="o">)</span> <span class="kd">throws</span> <span class="n">ArgumentParseException</span> <span class="o">{</span>
        <span class="k">try</span> <span class="o">{</span>
            <span class="k">return</span> <span class="n">Integer</span><span class="o">.</span><span class="na">parseInt</span><span class="o">(</span><span class="n">input</span><span class="o">);</span>
        <span class="o">}</span> <span class="k">catch</span><span class="o">(</span><span class="n">NumberFormatException</span> <span class="n">e</span><span class="o">)</span> <span class="o">{</span>
            <span class="k">throw</span> <span class="n">errorargs</span><span class="o">.</span><span class="na">createError</span><span class="o">(</span><span class="n">Text</span><span class="o">.</span><span class="na">of</span><span class="o">(</span><span class="s">&quot;&#39;&quot;</span> <span class="o">+</span> <span class="n">input</span> <span class="o">+</span> <span class="s">&quot;&#39; is not a valid number!&quot;</span><span class="o">));</span>
        <span class="o">}</span>
    <span class="o">}</span>

    <span class="nd">@Override</span>
    <span class="kd">public</span> <span class="n">List</span><span class="o">&lt;</span><span class="n">String</span><span class="o">&gt;</span> <span class="nf">complete</span><span class="o">(</span><span class="n">CommandSource</span> <span class="n">src</span><span class="o">,</span> <span class="n">CommandArgs</span> <span class="n">args</span><span class="o">,</span> <span class="n">CommandContext</span> <span class="n">context</span><span class="o">)</span> <span class="o">{</span>
        <span class="k">return</span> <span class="n">Collections</span><span class="o">.</span><span class="na">emptyList</span><span class="o">();</span>
    <span class="o">}</span>

    <span class="nd">@Override</span>
    <span class="kd">public</span> <span class="n">Text</span> <span class="nf">getUsage</span><span class="o">(</span><span class="n">CommandSource</span> <span class="n">src</span><span class="o">)</span> <span class="o">{</span>
        <span class="k">return</span> <span class="n">Text</span><span class="o">.</span><span class="na">of</span><span class="o">(</span><span class="s">&quot;&lt;x&gt; &lt;y&gt;&quot;</span><span class="o">);</span>
    <span class="o">}</span>
<span class="o">}</span>
</pre></div>
</div>
</div>
<div class="section" id="example-vector2i-command-element-usage">
<h3>示例： <code class="docutils literal"><span class="pre">Vector2i</span></code> 命令元素的用法<a class="headerlink" href="#example-vector2i-command-element-usage" title="永久链接至标题">¶</a></h3>
<div class="highlight-java"><div class="highlight"><pre><span></span><span class="c1">// /plottp &lt;x&gt; &lt;y&gt;</span>
<span class="n">CommandSpec</span> <span class="n">myCommandSpec</span> <span class="o">=</span> <span class="n">CommandSpec</span><span class="o">.</span><span class="na">builder</span><span class="o">()</span>
        <span class="o">.</span><span class="na">description</span><span class="o">(</span><span class="n">Text</span><span class="o">.</span><span class="na">of</span><span class="o">(</span><span class="s">&quot;Teleport to a plot&quot;</span><span class="o">))</span>
        <span class="o">.</span><span class="na">permission</span><span class="o">(</span><span class="s">&quot;myplugin.command.plot.tp&quot;</span><span class="o">)</span>

        <span class="o">.</span><span class="na">arguments</span><span class="o">(</span><span class="k">new</span> <span class="n">Vector2iCommandElement</span><span class="o">(</span><span class="n">Text</span><span class="o">.</span><span class="na">of</span><span class="o">(</span><span class="s">&quot;coordinates&quot;</span><span class="o">)))</span>

        <span class="o">.</span><span class="na">executor</span><span class="o">(</span><span class="k">new</span> <span class="n">MyCommandExecutor</span><span class="o">())</span>
        <span class="o">.</span><span class="na">build</span><span class="o">();</span>
</pre></div>
</div>
<div class="admonition tip">
<p class="first admonition-title">小技巧</p>
<p class="last">请参阅 <a class="reference external" href="https://github.com/SpongePowered/SpongeAPI/blob/master/src/main/java/org/spongepowered/api/command/args/GenericArguments.java">源代码</a> 以获取更多关于 <code class="docutils literal"><span class="pre">GenericArguments</span></code> 的用法示例。</p>
</div>
</div>
</div>
</div>


                </div>
              </div>
            </div>
          <div class="clearer"></div>
        </div>
        <div class="footer" role="contentinfo">
              &copy; 版权所有 2014-2016, Sponge Contributors.
            由 <a href="http://sphinx-doc.org/">Sphinx</a> 1.3.3 创建。
        </div>
    </div>
  </body>
</html>