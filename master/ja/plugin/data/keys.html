<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">




<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
     <title>キーの使用 &mdash; Sponge 5.0.0 ドキュメント</title>
    
  <link rel="stylesheet" href="../../_static/basic.css" type="text/css" />
  <link rel="stylesheet" href="../../_static/sponge.css" type="text/css" />
  <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.6.1/css/font-awesome.min.css" rel="stylesheet" type="text/css" />
  <link href="https://fonts.googleapis.com/css?family=Source+Code+Pro|Roboto:400italic,700italic,700,400|Montserrat:400,700" rel="stylesheet" type="text/css" />
  <link rel="stylesheet" href="../../_static/tomorrow.css" type="text/css" />
  <link id="syntax-highlighting-ref" rel="stylesheet" href="../../_static/tomorrow_night.css" type="text/css" />
      
  <script type="text/javascript">
    var DOCUMENTATION_OPTIONS = {
      URL_ROOT:    '../../',
      VERSION:     '5.0.0',
      COLLAPSE_INDEX: false,
      FILE_SUFFIX: '.html',
      HAS_SOURCE:  true
    };
  </script>
    <script type="text/javascript" src="../../_static/jquery.js"></script>
    <script type="text/javascript" src="../../_static/underscore.js"></script>
    <script type="text/javascript" src="../../_static/doctools.js"></script>
    <script type="text/javascript" src="../../_static/store.min.js"></script>
    <script type="text/javascript" src="../../_static/lights.js"></script>
      <link rel="shortcut icon" href="../../_static/favicon.ico"/>
        <link rel="index" title="索引" href="../../genindex.html" />
        <link rel="search" title="検索" href="../../search.html" />
        <link rel="top" title="Sponge 5.0.0 ドキュメント" href="../../index.html" />
        <link rel="up" title="データ API" href="index.html" />
        <link rel="next" title="データマニピュレーター" href="datamanipulators.html" />
        <link rel="prev" title="データ API" href="index.html" />
    
  <script type="text/javascript">
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-59476017-2', 'auto');
    ga('send', 'pageview');

  </script>
    
  <link rel="alternate" hreflang="da" href="/master/da/">
  <link rel="alternate" hreflang="de" href="/master/de/">
  <link rel="alternate" hreflang="en-GB" href="/master/en-GB/">
  <link rel="alternate" hreflang="en-PT" href="/master/en-PT/">
  <link rel="alternate" hreflang="en" href="/master/en/">
  <link rel="alternate" hreflang="es-ES" href="/master/es-ES/">
  <link rel="alternate" hreflang="fi" href="/master/fi/">
  <link rel="alternate" hreflang="fr" href="/master/fr/">
  <link rel="alternate" hreflang="it" href="/master/it/">
  <link rel="alternate" hreflang="ja" href="/master/ja/">
  <link rel="alternate" hreflang="ko" href="/master/ko/">
  <link rel="alternate" hreflang="lt" href="/master/lt/">
  <link rel="alternate" hreflang="nb" href="/master/nb/">
  <link rel="alternate" hreflang="nl" href="/master/nl/">
  <link rel="alternate" hreflang="pl" href="/master/pl/">
  <link rel="alternate" hreflang="pt-BR" href="/master/pt-BR/">
  <link rel="alternate" hreflang="pt-PT" href="/master/pt-PT/">
  <link rel="alternate" hreflang="ru" href="/master/ru/">
  <link rel="alternate" hreflang="uk" href="/master/uk/">
  <link rel="alternate" hreflang="zh-CN" href="/master/zh-CN/">
  <link rel="alternate" hreflang="zh-TW" href="/master/zh-TW/">
  <link rel="alternate" hreflang="x-default" href="/"> 
  </head>
  <body role="document" id="top">
    <div class="topbar">
  <div role="navigation" aria-label="related navigation">
    <div class="sp-logo-container sp-not-mobileview sp-mobileview">
      <a class="sp-logo-link" data-auto-route="true" href="/">
        <img height="40px" id="site-logo" class="logo-big" alt="" src="https://www.spongepowered.org/assets/img/icons/spongie-mark.svg">
        <span id="sp-site-title">Sponge</span>
      </a>
      <div class="sp-logo-bg"></div>
      <div class="sp-logo-chevron"><i class="fa fa-fw fa-chevron-down"></i></div>
      <div class="sp-logo-menu sp-skip-handler">
        <ul class="sp-logo-dropdown" id="ddleft">
          <a href="https://www.spongepowered.org"><li><i class="fa-fw fa fa-home"></i>Homepage</li></a>
          <a href="https://forums.spongepowered.org"><li><i class="fa-fw fa fa-comments"></i>Forums</li></a>
          <a href="https://github.com/SpongePowered"><li><i class="fa-fw fa fa-code"></i>Code</li></a>
          <a class="sp-forums-home" href="https://docs.spongepowered.org"><li class="active"><i class="fa-fw fa fa-book"></i>Docs</li></a>
          <a href="https://jd.spongepowered.org"><li><i class="fa-fw fa fa-graduation-cap"></i>Javadocs</li></a>
          <a href="https://forums.spongepowered.org/c/plugins/plugin-releases"><li><i class="fa-fw fa fa-plug"></i>Plugins</li></a>
          <a href="https://www.spongepowered.org/downloads"><li><i class="fa-fw fa fa-download"></i>Downloads</li></a>
          <a href="https://www.spongepowered.org/chat"><li><i class="fa-fw fa fa-comment"></i>Chat</li></a>
        </ul>
      </div>
    </div>
    <div class="menu-right">
      <div><i class="fa fa-fw fa-globe"></i></div>
        <ul class="dropdown" id="ddlang">
          <li><a href="/master/da/" class="lang"><img src="//d1ztvzf22lmr1j.cloudfront.net/images/flags/da.png" alt="Flag for Danish"/></a></li>
          <li><a href="/master/de/" class="lang"><img src="//d1ztvzf22lmr1j.cloudfront.net/images/flags/de.png" alt="Flag for German"/></a></li>
          <li><a href="/master/en-GB/" class="lang"><img src="//d1ztvzf22lmr1j.cloudfront.net/images/flags/en-GB.png" alt="Flag for English, United Kingdom"/></a></li>
          <li><a href="/master/en-PT/" class="lang"><img src="//d1ztvzf22lmr1j.cloudfront.net/images/flags/en-PT.png" alt="Flag for Pirate English"/></a></li>
          <li><a href="/master/en/" class="lang"><img src="//d1ztvzf22lmr1j.cloudfront.net/images/flags/en.png" alt="Flag for English"/></a></li>
          <li><a href="/master/es-ES/" class="lang"><img src="//d1ztvzf22lmr1j.cloudfront.net/images/flags/es-ES.png" alt="Flag for Spanish"/></a></li>
          <li><a href="/master/fi/" class="lang"><img src="//d1ztvzf22lmr1j.cloudfront.net/images/flags/fi.png" alt="Flag for Finnish"/></a></li>
          <li><a href="/master/fr/" class="lang"><img src="//d1ztvzf22lmr1j.cloudfront.net/images/flags/fr.png" alt="Flag for French"/></a></li>
          <li><a href="/master/it/" class="lang"><img src="//d1ztvzf22lmr1j.cloudfront.net/images/flags/it.png" alt="Flag for Italian"/></a></li>
          <li><a href="/master/ja/" class="lang"><img src="//d1ztvzf22lmr1j.cloudfront.net/images/flags/ja.png" alt="Flag for Japanese"/></a></li>
          <li><a href="/master/ko/" class="lang"><img src="//d1ztvzf22lmr1j.cloudfront.net/images/flags/ko.png" alt="Flag for Korean"/></a></li>
          <li><a href="/master/lt/" class="lang"><img src="//d1ztvzf22lmr1j.cloudfront.net/images/flags/lt.png" alt="Flag for Lithuanian"/></a></li>
          <li><a href="/master/nb/" class="lang"><img src="//d1ztvzf22lmr1j.cloudfront.net/images/flags/nb.png" alt="Flag for Norwegian Bokmal"/></a></li>
          <li><a href="/master/nl/" class="lang"><img src="//d1ztvzf22lmr1j.cloudfront.net/images/flags/nl.png" alt="Flag for Dutch"/></a></li>
          <li><a href="/master/pl/" class="lang"><img src="//d1ztvzf22lmr1j.cloudfront.net/images/flags/pl.png" alt="Flag for Polish"/></a></li>
          <li><a href="/master/pt-BR/" class="lang"><img src="//d1ztvzf22lmr1j.cloudfront.net/images/flags/pt-BR.png" alt="Flag for Portuguese, Brazilian"/></a></li>
          <li><a href="/master/pt-PT/" class="lang"><img src="//d1ztvzf22lmr1j.cloudfront.net/images/flags/pt-PT.png" alt="Flag for Portuguese"/></a></li>
          <li><a href="/master/ru/" class="lang"><img src="//d1ztvzf22lmr1j.cloudfront.net/images/flags/ru.png" alt="Flag for Russian"/></a></li>
          <li><a href="/master/uk/" class="lang"><img src="//d1ztvzf22lmr1j.cloudfront.net/images/flags/uk.png" alt="Flag for Ukrainian"/></a></li>
          <li><a href="/master/zh-CN/" class="lang"><img src="//d1ztvzf22lmr1j.cloudfront.net/images/flags/zh-CN.png" alt="Flag for Chinese Simplified"/></a></li>
          <li><a href="/master/zh-TW/" class="lang"><img src="//d1ztvzf22lmr1j.cloudfront.net/images/flags/zh-TW.png" alt="Flag for Chinese Traditional"/></a></li>
        </ul>
    </div>
    <div class="menu-right">
      <div><i class="fa fa-fw fa-tag"></i><a>5.0.0</a></div>
        <ul class="dropdown" id="ddvers">
          <li><a href="/master/en/"><i class="fa fa-fw fa-tag"></i> latest</a></li>
          <li><a href="/4.1.0/en/"><i class="fa fa-fw fa-tag"></i> 4.1.0</a></li>
          <li><a href="/3.1.0/en/"><i class="fa fa-fw fa-tag"></i> 3.1.0</a></li>
        </ul>
    </div>
    <div class="menu-right">
      <div title="Toggle syntax highlighting between light and dark" class="lights">
        <i class="fa fa-fw fa-lightbulb-o"></i>
      </div>
    </div>
    <div>
      <ul class="controls">
        <li>|</li>
        
        <li><a href="datamanipulators.html" title="Next Page"><i class="fa fa-fw fa-chevron-right"></i></a></li>
        
        <li><a href="#top" title="To the top"><i class="fa fa-fw fa-chevron-up"></i></a></li>
        <li><a href="../../index.html" title="Home"><i class="fa fa-fw fa-home"></i></a></li>
        
        <li><a href="index.html" title="Previous Page"><i class="fa fa-fw fa-chevron-left"></i></a></li>
        
        <li>|</li>
        
          <li><a href="https://github.com/SpongePowered/SpongeDocs/blob/master/source/plugin/data/keys.rst" title="Edit on GitHub"><i class="fa fa-fw fa-github"></i></a></li>
        
      </ul>
    </div>
    <h3>ナビゲーション</h3>
  </div>
    </div>
    <div class="container">

      <div class="breadcrumbs">
        <ul>
        <li><a href="../../index.html">Sponge 5.0.0 ドキュメント</a><i class="fa fa-fw fa-chevron-right"></i></li>
        <li><a href="../index.html" >プラグインの作成</a><i class="fa fa-fw fa-chevron-right"></i></li>
        <li><a href="index.html" accesskey="U">データ API</a><i class="fa fa-fw fa-chevron-right"></i></li>
        </ul>
      </div> 
    <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
      <div class="sphinxsidebarwrapper">
<div id="searchbox" style="display: none" role="search">
    <form class="search" action="../../search.html" method="get">
      <div class="searchbox-inner">
        <input class="field" type="text" name="q" autocomplete="off" />
        <button class="submit" type="submit"><i class="fa fa-fw fa-search" aria-hidden="true"></i></button>
        <input type="hidden" name="check_keywords" value="yes" />
        <input type="hidden" name="area" value="default" />
      </div>
    </form>
    <p class="searchtip" style="font-size: 90%"></p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script><h3><a href="../../index.html">目次</a></h3>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../server/index.html">サーバーの作成</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../server/getting-started/index.html">はじめに</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../server/getting-started/jre.html">Java のインストール</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../server/getting-started/migrating.html">Sponge への移行</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../server/getting-started/implementations/index.html">実装の選択</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../server/getting-started/implementations/spongeforge.html">SpongeForge のインストール</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../server/getting-started/implementations/spongevanilla.html">SpongeVanilla の インストール</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../server/getting-started/launch-script.html">起動スクリプトの作成</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../server/getting-started/port-forward.html">ポートフォワーディング (ポート開放)</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../server/getting-started/bungeecord.html">BungeeCord と Sponge の併用</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../server/getting-started/configuration/index.html">Sponge の設定</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../server/getting-started/configuration/hocon.html">HOCON の手引き</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../server/getting-started/configuration/json.html">JSON 文法</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../server/getting-started/configuration/sponge-conf.html">global.conf</a></li>
<li class="toctree-l4"><a class="reference internal" href="../../server/getting-started/configuration/server-properties.html">server.properties</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../server/management/index.html">サーバーの管理</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../server/management/whitelist.html">ホワイトリストの管理</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../server/management/bans.html">BAN の管理</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../server/management/permissions.html">パーミッションの管理</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../server/management/plugins.html">プラグインのインストール</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../server/management/exploit-patches.html">脆弱性パッチ</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../server/management/performance-tweaks.html">Performance Tweaks</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../server/spongineer/index.html">熟練した Spongineer になる</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../server/spongineer/commands.html">コマンド</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../server/spongineer/troubleshooting.html">トラブルシューティング</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../server/spongineer/logs.html">ログファイル</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../server/spongineer/debugging.html">デバッグ</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../server/spongineer/bugreport.html">バグ報告</a></li>
</ul>
</li>
</ul>
</li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../preparing/index.html">開発の準備</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../preparing/jdk.html">JDKのインストール</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../preparing/ide.html">IDE のインストール</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../preparing/text.html">テキストエディタのインストール</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../preparing/git.html">Git のインストール</a></li>
</ul>
</li>
</ul>
<ul class="current">
<li class="toctree-l1 current"><a class="reference internal" href="../index.html">プラグインの作成</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../buildsystem.html">ビルドシステム</a></li>
<li class="toctree-l2"><a class="reference internal" href="../workspace/index.html">ワークスペースのセットアップ</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../workspace/idea.html">IntelliJ IDEA のセットアップ</a></li>
<li class="toctree-l3"><a class="reference internal" href="../workspace/eclipse.html">Eclipse のセットアップ</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../project/index.html">プロジェクトの設定</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../project/gradle.html">Gradle の設定</a></li>
<li class="toctree-l3"><a class="reference internal" href="../project/maven.html">Maven の設定</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../plugin-identifier.html">プラグイン ID</a></li>
<li class="toctree-l2"><a class="reference internal" href="../plugin-class.html">主要なプラグインのクラス</a></li>
<li class="toctree-l2"><a class="reference internal" href="../lifecycle.html">プラグインのライフサイクル</a></li>
<li class="toctree-l2"><a class="reference internal" href="../injection.html">依存性注入</a></li>
<li class="toctree-l2"><a class="reference internal" href="../practices.html">ベストプラクティス</a></li>
<li class="toctree-l2"><a class="reference internal" href="../optional/index.html">Optional</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../optional/basic.html">Optional の解説</a></li>
<li class="toctree-l3"><a class="reference internal" href="../optional/usage.html">使用例</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../logging.html">ロギングとデバッグ</a></li>
<li class="toctree-l2"><a class="reference internal" href="../commands/index.html">コマンド</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../commands/creating.html">コマンドの作成</a></li>
<li class="toctree-l3"><a class="reference internal" href="../commands/arguments.html">引数のパース</a></li>
<li class="toctree-l3"><a class="reference internal" href="../commands/flags.html">コマンドフラグ</a></li>
<li class="toctree-l3"><a class="reference internal" href="../commands/childcommands.html">子コマンド</a></li>
<li class="toctree-l3"><a class="reference internal" href="../commands/service.html">コマンドマネージャー</a></li>
<li class="toctree-l3"><a class="reference internal" href="../commands/commandcallable.html">低レベルのコマンド API</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../event/index.html">イベント</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../event/listeners.html">イベントリスナー</a></li>
<li class="toctree-l3"><a class="reference internal" href="../event/causes.html">イベントの要因</a></li>
<li class="toctree-l3"><a class="reference internal" href="../event/filters.html">イベントフィルター</a></li>
<li class="toctree-l3"><a class="reference internal" href="../event/custom.html">カスタムイベント</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../assets.html">アセット API</a></li>
<li class="toctree-l2"><a class="reference internal" href="../configuration/index.html">プラグインの設定</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../configuration/loaders.html">設定ローダー</a></li>
<li class="toctree-l3"><a class="reference internal" href="../configuration/nodes.html">設定ノード</a></li>
<li class="toctree-l3"><a class="reference internal" href="../configuration/serialization.html">オブジェクトのシリアライズ</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../text/index.html">テキスト</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../text/text.html">Text の作成</a></li>
<li class="toctree-l3"><a class="reference internal" href="../text/representations/index.html">テキストシリアライザー</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../text/representations/formatting-code-legacy.html">コードの整形と古い書式</a></li>
<li class="toctree-l4"><a class="reference internal" href="../text/representations/xml.html">TextXML 形式</a></li>
<li class="toctree-l4"><a class="reference internal" href="../text/representations/json.html">JSON 形式</a></li>
<li class="toctree-l4"><a class="reference internal" href="../text/representations/configurate.html">書式の設定</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../text/pagination.html">ページネーションサービス</a></li>
<li class="toctree-l3"><a class="reference internal" href="../text/messagechannels.html">メッセージチャンネル</a></li>
<li class="toctree-l3"><a class="reference internal" href="../text/templates.html">TextTemplate</a></li>
</ul>
</li>
<li class="toctree-l2 current"><a class="reference internal" href="index.html">データ API</a><ul class="current">
<li class="toctree-l3 current"><a class="current reference internal" href="#">キーの使用</a></li>
<li class="toctree-l3"><a class="reference internal" href="datamanipulators.html">データマニピュレーター</a></li>
<li class="toctree-l3"><a class="reference internal" href="transactions.html">トランザクション</a></li>
<li class="toctree-l3"><a class="reference internal" href="serialization.html">データのシリアライズ</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../blocks/index.html">ブロック</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../blocks/concepts.html">コンセプト</a></li>
<li class="toctree-l3"><a class="reference internal" href="../blocks/accessing.html">ブロックへのアクセス</a></li>
<li class="toctree-l3"><a class="reference internal" href="../blocks/modifying.html">ブロックの改変</a></li>
<li class="toctree-l3"><a class="reference internal" href="../blocks/tileentities.html">タイルエンティティ</a></li>
<li class="toctree-l3"><a class="reference internal" href="../blocks/virtualblock.html">Virtual Block Changes</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../entities/index.html">エンティティ</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../entities/spawning.html">エンティティのスポーン</a></li>
<li class="toctree-l3"><a class="reference internal" href="../entities/modifying.html">エンティティの変更</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../items/index.html">アイテム</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../items/usage.html">基本的なアイテムの使い方</a></li>
<li class="toctree-l3"><a class="reference internal" href="../items/creating.html">ItemStack の作成</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../trade-offers.html">Trade-Offers</a></li>
<li class="toctree-l2"><a class="reference internal" href="../effects.html">エフェクト</a></li>
<li class="toctree-l2"><a class="reference internal" href="../scheduler.html">スケジューラ</a></li>
<li class="toctree-l2"><a class="reference internal" href="../services.html">サービス</a></li>
<li class="toctree-l2"><a class="reference internal" href="../database.html">データベース</a></li>
<li class="toctree-l2"><a class="reference internal" href="../permissions.html">パーミッション</a></li>
<li class="toctree-l2"><a class="reference internal" href="../bans.html">Banリスト</a></li>
<li class="toctree-l2"><a class="reference internal" href="../bookview.html">Book Views</a></li>
<li class="toctree-l2"><a class="reference internal" href="../economy/index.html">経済</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../economy/basics.html">基本となるコンセプト</a></li>
<li class="toctree-l3"><a class="reference internal" href="../economy/using.html">経済 API の使用</a></li>
<li class="toctree-l3"><a class="reference internal" href="../economy/practices.html">経済 API ベストプラクティス</a></li>
<li class="toctree-l3"><a class="reference internal" href="../economy/implementing.html">経済 API の実装</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../wgen/index.html">ワールド生成</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../wgen/modifiers.html">WorldGeneratorModifier</a></li>
<li class="toctree-l3"><a class="reference internal" href="../wgen/customwgen.html">ワールド生成を変更</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../manager.html">プラグインマネージャー</a></li>
<li class="toctree-l2"><a class="reference internal" href="../game-profile-manager.html">ゲームプロファイルマネージャー</a></li>
<li class="toctree-l2"><a class="reference internal" href="../offline-userplayer-data.html">Offline Player Data</a></li>
<li class="toctree-l2"><a class="reference internal" href="../debugging.html">プラグインのデバッグ</a></li>
<li class="toctree-l2"><a class="reference internal" href="../tab-lists.html">タブリスト</a></li>
<li class="toctree-l2"><a class="reference internal" href="../plugin-meta.html">プラグインメタデータ</a></li>
<li class="toctree-l2"><a class="reference internal" href="../ray-tracing.html">レイトレーシング</a></li>
<li class="toctree-l2"><a class="reference internal" href="../tutorials.html">チュートリアル</a></li>
</ul>
</li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../contributing/index.html">Spongeに貢献</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../contributing/guidelines.html">コントリビューション ガイドライン</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../contributing/howtogit.html">Git(Hub) の使い方</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../contributing/implementation/index.html">Sponge の開発</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../contributing/implementation/codestyle.html">コードスタイル</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../contributing/implementation/git-implementation.html">API と実装の Git ワークフロー</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../contributing/implementation/pr.html">プルリクエストを送る</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../contributing/implementation/debugging.html">IDE での Sponge のデバッグ</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../contributing/implementation/mixins.html">Mixin</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../contributing/implementation/datamanipulator.html">DataManipulators の実装</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../contributing/spongedocs.html">SpongeDocsの執筆</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../contributing/porting.html">他のプラットフォームへの Sponge の移植</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../contributing/versioning.html">バージョン管理システムとリポジトリブランチ構成</a></li>
</ul>
</li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../about/index.html">Sponge Projectについて</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../about/introduction.html">はじめに</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../about/faq.html">よくある質問</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../about/structure.html">Sponge プロジェクトの構成</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../about/future.html">将来の構想</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../about/license.html">ライセンス</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../about/posting.html">フォーラム投稿ガイドライン</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../about/rules.html">フォーラム &amp; IRC ルール</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../about/staff.html">スタッフ</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../about/glossary.html">Sponge用語集</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../about/assets.html">アート素材</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../about/history.html">Sponge の歴史</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../downloads.html">ダウンロード</a></li>
</ul>

      </div>
    </div> 

        <div class="document">
            <div class="documentwrapper">
              <div class="bodywrapper">
                <div class="body" role="main">
                  
  <div class="section" id="using-keys">
<h1>キーの使用<a class="headerlink" href="#using-keys" title="このヘッドラインへのパーマリンク">¶</a></h1>
<div class="section" id="getting-and-offering-data-using-a-key">
<h2>Getting and offering data using a key<a class="headerlink" href="#getting-and-offering-data-using-a-key" title="このヘッドラインへのパーマリンク">¶</a></h2>
<p>A data holder provides methods to retrieve or alter a single point of data identified by a <a class="reference external" href="https://jd.spongepowered.org/5.0.0/org/spongepowered/api/data/key/Key.html">Key</a>. Let&#8217;s just
start out with an example:</p>
<p><strong>Code Example: Healing a data holder, if possible</strong></p>
<div class="highlight-java"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">org.spongepowered.api.data.DataHolder</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">org.spongepowered.api.data.key.Keys</span><span class="o">;</span>

<span class="kd">public</span> <span class="kt">void</span> <span class="nf">heal</span><span class="o">(</span><span class="n">DataHolder</span> <span class="n">target</span><span class="o">)</span> <span class="o">{</span>
    <span class="k">if</span> <span class="o">(</span><span class="n">target</span><span class="o">.</span><span class="na">supports</span><span class="o">(</span><span class="n">Keys</span><span class="o">.</span><span class="na">HEALTH</span><span class="o">))</span> <span class="o">{</span>
        <span class="kt">double</span> <span class="n">maxHealth</span> <span class="o">=</span> <span class="n">target</span><span class="o">.</span><span class="na">get</span><span class="o">(</span><span class="n">Keys</span><span class="o">.</span><span class="na">MAX_HEALTH</span><span class="o">).</span><span class="na">get</span><span class="o">();</span>
        <span class="n">target</span><span class="o">.</span><span class="na">offer</span><span class="o">(</span><span class="n">Keys</span><span class="o">.</span><span class="na">HEALTH</span><span class="o">,</span> <span class="n">maxHealth</span><span class="o">);</span>
    <span class="o">}</span>
<span class="o">}</span>
</pre></div>
</div>
<p>Now for the details of the above function.</p>
<p>The first line checks if our given data holder supports a current health value. Only if it does, it can be healed after
all. Since a data holder can not have current health without having a maximum health and vice versa, a check for
one of the keys using the <code class="docutils literal"><span class="pre">supports()</span></code> method suffices.</p>
<p>The second line uses the <code class="docutils literal"><span class="pre">get()</span></code> function to ask the data holder for its maximum health. Besides
<code class="docutils literal"><span class="pre">get()</span></code>, the methods <code class="docutils literal"><span class="pre">getOrNull()</span></code> and <code class="docutils literal"><span class="pre">getOrElse()</span></code> exist, all of which accept a <code class="docutils literal"><span class="pre">Key</span></code> as their first
parameter. Generally, <code class="docutils literal"><span class="pre">get()</span></code> should be used, which will return an <code class="docutils literal"><span class="pre">Optional</span></code> of the data requested or
<code class="docutils literal"><span class="pre">Optional.empty()</span></code> if the data holder does not support the supplied key. Since we already verified that the
<code class="docutils literal"><span class="pre">Key</span></code> is supported, we can just call <code class="docutils literal"><span class="pre">get()</span></code> on the Optional without further checks. We could also use
<code class="docutils literal"><span class="pre">getOrNull()</span></code> which is basically a shortcut to call <code class="docutils literal"><span class="pre">get(key).orNull()</span></code>, thus getting rid of the
<code class="docutils literal"><span class="pre">Optional</span></code>. The third possibility would be the <code class="docutils literal"><span class="pre">getOrElse()</span></code>, which accepts a default value as a second
parameter to be returned if the value is not present on the data holder.</p>
<p>In the third line, we offer data back to the data holder. We provide a <code class="docutils literal"><span class="pre">Key</span></code> denoting the current health and the
before acquired maximum health, thus healing the data holder to full health. There are a variety of <code class="docutils literal"><span class="pre">offer()</span></code>
methods accepting different parameter sets, all of which return a <a class="reference external" href="https://jd.spongepowered.org/5.0.0/org/spongepowered/api/data/DataTransactionResult.html">DataTransactionResult</a> containing
information if the offer was accepted. For now, we&#8217;ll use the one accepting a <code class="docutils literal"><span class="pre">Key</span></code> and a corresponding value, but we
will encounter more in the next pages. Since we already know that our offer of current health is accepted (as the data
holder supports it), we can silently discard the result.</p>
<p>It is also possible to completely remove data from a <a class="reference external" href="https://jd.spongepowered.org/5.0.0/org/spongepowered/api/data/DataHolder.html">DataHolder</a> using the <code class="docutils literal"><span class="pre">remove()</span></code> function. Simply
provide a <code class="docutils literal"><span class="pre">Key</span></code> representing the data you want removed. The following example will attempt to remove a custom name
from a given data holder:</p>
<div class="highlight-java"><div class="highlight"><pre><span></span><span class="kd">public</span> <span class="kt">void</span> <span class="nf">removeName</span><span class="o">(</span><span class="n">DataHolder</span> <span class="n">target</span><span class="o">)</span> <span class="o">{</span>
    <span class="n">target</span><span class="o">.</span><span class="na">remove</span><span class="o">(</span><span class="n">Keys</span><span class="o">.</span><span class="na">DISPLAY_NAME</span><span class="o">);</span>
<span class="o">}</span>
</pre></div>
</div>
</div>
<div class="section" id="transforming-data">
<h2>Transforming Data<a class="headerlink" href="#transforming-data" title="このヘッドラインへのパーマリンク">¶</a></h2>
<p>Other than getting, modifying and offering a value, there is another way of interacting with data. Using a data
holder&#8217;s <code class="docutils literal"><span class="pre">transform()</span></code> method we can pass a <code class="docutils literal"><span class="pre">Key</span></code> and a <code class="docutils literal"><span class="pre">Function</span></code>. Internally, the value for the key will be
retrieved and the given function applied to it. The result is then stored under the key and the <code class="docutils literal"><span class="pre">transform()</span></code>
method will return a <code class="docutils literal"><span class="pre">DataTransactionResult</span></code> accordingly.</p>
<p>Now, as an example, imagine we want to buff a data holder by doubling his maximum health.</p>
<div class="highlight-java"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">java.util.function.Function</span><span class="o">;</span>

<span class="kd">public</span> <span class="kt">void</span> <span class="nf">buff</span><span class="o">(</span><span class="n">DataHolder</span> <span class="n">target</span><span class="o">)</span> <span class="o">{</span>
    <span class="n">target</span><span class="o">.</span><span class="na">transform</span><span class="o">(</span><span class="n">Keys</span><span class="o">.</span><span class="na">MAX_HEALTH</span><span class="o">,</span> <span class="k">new</span> <span class="n">Function</span><span class="o">&lt;</span><span class="n">Double</span><span class="o">,</span><span class="n">Double</span><span class="o">&gt;()</span> <span class="o">{</span>
        <span class="nd">@Override</span>
        <span class="kd">public</span> <span class="n">Double</span> <span class="nf">apply</span><span class="o">(</span><span class="n">Double</span> <span class="n">input</span><span class="o">)</span> <span class="o">{</span>
            <span class="k">return</span> <span class="o">(</span><span class="n">input</span> <span class="o">==</span> <span class="kc">null</span><span class="o">)</span> <span class="o">?</span> <span class="mi">0</span> <span class="o">:</span> <span class="n">input</span> <span class="o">*</span> <span class="mi">2</span><span class="o">;</span>
        <span class="o">}</span>
    <span class="o">});</span>
<span class="o">}</span>
</pre></div>
</div>
<p>Or, if you use Java 8, you&#8217;re able to shorten the line with lambda expressions:</p>
<div class="highlight-java"><div class="highlight"><pre><span></span><span class="kd">public</span> <span class="kt">void</span> <span class="nf">buff</span><span class="o">(</span><span class="n">DataHolder</span> <span class="n">target</span><span class="o">)</span> <span class="o">{</span>
    <span class="n">target</span><span class="o">.</span><span class="na">transform</span><span class="o">(</span><span class="n">Keys</span><span class="o">.</span><span class="na">MAX_HEALTH</span><span class="o">,</span> <span class="n">d</span> <span class="o">-&gt;</span> <span class="o">(</span><span class="n">d</span> <span class="o">==</span> <span class="kc">null</span><span class="o">)</span> <span class="o">?</span> <span class="mi">0</span> <span class="o">:</span> <span class="mi">2</span><span class="o">*</span><span class="n">d</span><span class="o">);</span>
<span class="o">}</span>
</pre></div>
</div>
<p>Note that in both cases we need to make sure our passed function can handle <code class="docutils literal"><span class="pre">null</span></code>. You will also notice that no
check has been performed if the target actually supports the <a class="reference external" href="https://jd.spongepowered.org/5.0.0/org/spongepowered/api/data/key/Keys.html#MAX_HEALTH">Keys#MAX_HEALTH</a> key. If a target does not
support it, the <code class="docutils literal"><span class="pre">transform()</span></code> function will fail and return a <code class="docutils literal"><span class="pre">DataTransactionResult</span></code> indicating so.</p>
</div>
<div class="section" id="keyed-values">
<h2>Keyed Values<a class="headerlink" href="#keyed-values" title="このヘッドラインへのパーマリンク">¶</a></h2>
<p>There are cases where you may care about not only the direct value for a Key, but the keyed value
encapsulating it. In that case, use the <code class="docutils literal"><span class="pre">getValue(key)</span></code> method instead of <code class="docutils literal"><span class="pre">get(key)</span></code>. You will receive an
object inheriting from <a class="reference external" href="https://jd.spongepowered.org/5.0.0/org/spongepowered/api/data/value/BaseValue.html">BaseValue</a> which contains a copy of the original value. Since we know that current
health is a <a class="reference external" href="https://jd.spongepowered.org/5.0.0/org/spongepowered/api/data/value/mutable/MutableBoundedValue.html">MutableBoundedValue</a>, we can find out the minimum possible value and set our target&#8217;s health just
a tiny bit above that.</p>
<p><strong>Code Example: Bring a target to the brink of death</strong></p>
<div class="highlight-java"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">org.spongepowered.api.data.value.mutable.MutableBoundedValue</span><span class="o">;</span>

<span class="kd">public</span> <span class="kt">void</span> <span class="nf">scare</span><span class="o">(</span><span class="n">DataHolder</span> <span class="n">target</span><span class="o">)</span> <span class="o">{</span>
    <span class="k">if</span> <span class="o">(</span><span class="n">target</span><span class="o">.</span><span class="na">supports</span><span class="o">(</span><span class="n">Keys</span><span class="o">.</span><span class="na">HEALTH</span><span class="o">))</span> <span class="o">{</span>
        <span class="n">MutableBoundedValue</span><span class="o">&lt;</span><span class="n">Double</span><span class="o">&gt;</span> <span class="n">health</span> <span class="o">=</span> <span class="n">target</span><span class="o">.</span><span class="na">getValue</span><span class="o">(</span><span class="n">Keys</span><span class="o">.</span><span class="na">HEALTH</span><span class="o">).</span><span class="na">get</span><span class="o">();</span>
        <span class="kt">double</span> <span class="n">nearDeath</span> <span class="o">=</span> <span class="n">health</span><span class="o">.</span><span class="na">getMinValue</span><span class="o">()</span> <span class="o">+</span> <span class="mi">1</span><span class="o">;</span>
        <span class="n">health</span><span class="o">.</span><span class="na">set</span><span class="o">(</span><span class="n">nearDeath</span><span class="o">);</span>
        <span class="n">target</span><span class="o">.</span><span class="na">offer</span><span class="o">(</span><span class="n">health</span><span class="o">);</span>
    <span class="o">}</span>
<span class="o">}</span>
</pre></div>
</div>
<p>Again, we check if our target support the health key and then obtain the keyed value. A
<code class="docutils literal"><span class="pre">MutableBoundedValue</span></code> contains a <code class="docutils literal"><span class="pre">getMinValue()</span></code> method, so we obtain the minimal value, add 1 and then set
it to our data container. Internally, the <code class="docutils literal"><span class="pre">set()</span></code> method performs a check if our supplied value is valid and
silently fails if it is not. Calling <code class="docutils literal"><span class="pre">health.set(-2)</span></code> would not change the value within <code class="docutils literal"><span class="pre">health</span></code> since it
would fail the validity checks. To finally apply our changes to the target, we need to offer the keyed value
back to it. As a keyed value also contains the <code class="docutils literal"><span class="pre">Key</span></code> used to identify it, calling <code class="docutils literal"><span class="pre">target.offer(health)</span></code>
is equivalent to <code class="docutils literal"><span class="pre">target.offer(health.getKey(),</span> <span class="pre">health.get())</span></code>.</p>
</div>
</div>


                </div>
              </div>
            </div>
          <div class="clearer"></div>
        </div>
        <div class="footer" role="contentinfo">
              &copy; Copyright 2014-2016, Sponge Contributors.
            このドキュメントは <a href="http://sphinx-doc.org/">Sphinx</a> 1.5.1 で生成しました。
        </div>
    </div>
  </body>
</html>