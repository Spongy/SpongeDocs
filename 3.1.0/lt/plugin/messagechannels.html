<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">




<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
     <title>Žinučių kanalai &mdash; Sponge 3.1.0 documentation</title>
    
  <link rel="stylesheet" href="../_static/basic.css" type="text/css" />
  <link rel="stylesheet" href="../_static/sponge.css" type="text/css" />
  <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.6.1/css/font-awesome.min.css" rel="stylesheet" type="text/css" />
  <link href='//fonts.googleapis.com/css?family=Source+Code+Pro|Roboto:400italic,700italic,700,400' rel='stylesheet' type='text/css' />
  <link rel="stylesheet" href="../_static/tomorrow.css" type="text/css" />
  <link id="syntax-highlighting-ref" rel="stylesheet" href="../_static/tomorrow_night.css" type="text/css" />
      
  <script type="text/javascript">
    var DOCUMENTATION_OPTIONS = {
      URL_ROOT:    '../',
      VERSION:     '3.1.0',
      COLLAPSE_INDEX: false,
      FILE_SUFFIX: '.html',
      HAS_SOURCE:  true
    };
  </script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <script type="text/javascript" src="../_static/store.min.js"></script>
    <script type="text/javascript" src="../_static/lights.js"></script>
      <link rel="shortcut icon" href="../_static/favicon.ico"/>
        <link rel="top" title="Sponge 3.1.0 documentation" href="../index.html" />
        <link rel="up" title="Įskiepių kūrimas" href="index.html" />
        <link rel="next" title="Ray sekimas" href="ray-tracing.html" />
        <link rel="prev" title="Įskiepio derinimas" href="debugging.html" />
    
  <script type="text/javascript">
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-59476017-2', 'auto');
    ga('send', 'pageview');

  </script>
    
  <link rel="alternate" hreflang="da" href="/3.1.0/da/">
  <link rel="alternate" hreflang="de" href="/3.1.0/de/">
  <link rel="alternate" hreflang="en-GB" href="/3.1.0/en-GB/">
  <link rel="alternate" hreflang="en-PT" href="/3.1.0/en-PT/">
  <link rel="alternate" hreflang="en" href="/3.1.0/en/">
  <link rel="alternate" hreflang="es-ES" href="/3.1.0/es-ES/">
  <link rel="alternate" hreflang="fi" href="/3.1.0/fi/">
  <link rel="alternate" hreflang="fr" href="/3.1.0/fr/">
  <link rel="alternate" hreflang="it" href="/3.1.0/it/">
  <link rel="alternate" hreflang="ja" href="/3.1.0/ja/">
  <link rel="alternate" hreflang="ko" href="/3.1.0/ko/">
  <link rel="alternate" hreflang="lt" href="/3.1.0/lt/">
  <link rel="alternate" hreflang="nb" href="/3.1.0/nb/">
  <link rel="alternate" hreflang="nl" href="/3.1.0/nl/">
  <link rel="alternate" hreflang="pl" href="/3.1.0/pl/">
  <link rel="alternate" hreflang="pt-BR" href="/3.1.0/pt-BR/">
  <link rel="alternate" hreflang="pt-PT" href="/3.1.0/pt-PT/">
  <link rel="alternate" hreflang="ru" href="/3.1.0/ru/">
  <link rel="alternate" hreflang="uk" href="/3.1.0/uk/">
  <link rel="alternate" hreflang="zh-CN" href="/3.1.0/zh-CN/">
  <link rel="alternate" hreflang="zh-TW" href="/3.1.0/zh-TW/">
  <link rel="alternate" hreflang="x-default" href="/"> 
  </head>
  <body role="document" id="top">
    <div class="topbar">
  <div role="navigation" aria-label="related navigation">
    <div class="sp-logo-container sp-not-mobileview sp-mobileview">
      <a class="sp-logo-link" data-auto-route="true" href="/">
        <img height="40px" id="site-logo" class="logo-big" alt="Sponge Forums" src="../_static/spongelogo.png">
      </a>
      <div class="sp-logo-bg"></div>
      <div class="sp-logo-chevron"><i class="fa fa-fw fa-chevron-down"></i></div>
      <div class="sp-logo-menu sp-skip-handler">
        <ul class="sp-logo-dropdown" id="ddleft">
          <a href="https://www.spongepowered.org"><li><i class="fa-fw fa fa-home"></i>Homepage</li></a>
          <a href="https://forums.spongepowered.org"><li><i class="fa-fw fa fa-comment"></i>Forums</li></a>
          <a href="https://github.com/SpongePowered"><li><i class="fa-fw fa fa-code"></i>Code</li></a>
          <a class="sp-forums-home" href="https://docs.spongepowered.org"><li class="active"><i class="fa-fw fa fa-book"></i>SpongeDocs</li></a>
          <a href="https://jd.spongepowered.org"><li><i class="fa-fw fa fa-graduation-cap"></i>JavaDocs</li></a>
          <a href="https://forums.spongepowered.org/c/plugins/plugin-releases"><li><i class="fa-fw fa fa-plug"></i>Plugins</li></a>
          <a href="https://forums.spongepowered.org/t/sponge-downloads/11448"><li><i class="fa-fw fa fa-download"></i>Get Sponge</li></a>
        </ul>
      </div>
    </div>
    <div class="menu-right">
      <div><i class="fa fa-fw fa-globe"></i></div>
        <ul class="dropdown" id="ddlang">
          <li><a href="/3.1.0/da/" class="lang"><img src="//d1ztvzf22lmr1j.cloudfront.net/images/flags/da.png" alt="Flag for Danish"/></a></li>
          <li><a href="/3.1.0/de/" class="lang"><img src="//d1ztvzf22lmr1j.cloudfront.net/images/flags/de.png" alt="Flag for German"/></a></li>
          <li><a href="/3.1.0/en-GB/" class="lang"><img src="//d1ztvzf22lmr1j.cloudfront.net/images/flags/en-GB.png" alt="Flag for English, United Kingdom"/></a></li>
          <li><a href="/3.1.0/en-PT/" class="lang"><img src="//d1ztvzf22lmr1j.cloudfront.net/images/flags/en-PT.png" alt="Flag for Pirate English"/></a></li>
          <li><a href="/3.1.0/en/" class="lang"><img src="//d1ztvzf22lmr1j.cloudfront.net/images/flags/en.png" alt="Flag for English"/></a></li>
          <li><a href="/3.1.0/es-ES/" class="lang"><img src="//d1ztvzf22lmr1j.cloudfront.net/images/flags/es-ES.png" alt="Flag for Spanish"/></a></li>
          <li><a href="/3.1.0/fi/" class="lang"><img src="//d1ztvzf22lmr1j.cloudfront.net/images/flags/fi.png" alt="Flag for Finnish"/></a></li>
          <li><a href="/3.1.0/fr/" class="lang"><img src="//d1ztvzf22lmr1j.cloudfront.net/images/flags/fr.png" alt="Flag for French"/></a></li>
          <li><a href="/3.1.0/it/" class="lang"><img src="//d1ztvzf22lmr1j.cloudfront.net/images/flags/it.png" alt="Flag for Italian"/></a></li>
          <li><a href="/3.1.0/ja/" class="lang"><img src="//d1ztvzf22lmr1j.cloudfront.net/images/flags/ja.png" alt="Flag for Japanese"/></a></li>
          <li><a href="/3.1.0/ko/" class="lang"><img src="//d1ztvzf22lmr1j.cloudfront.net/images/flags/ko.png" alt="Flag for Korean"/></a></li>
          <li><a href="/3.1.0/lt/" class="lang"><img src="//d1ztvzf22lmr1j.cloudfront.net/images/flags/lt.png" alt="Flag for Lithuanian"/></a></li>
          <li><a href="/3.1.0/nb/" class="lang"><img src="//d1ztvzf22lmr1j.cloudfront.net/images/flags/nb.png" alt="Flag for Norwegian Bokmal"/></a></li>
          <li><a href="/3.1.0/nl/" class="lang"><img src="//d1ztvzf22lmr1j.cloudfront.net/images/flags/nl.png" alt="Flag for Dutch"/></a></li>
          <li><a href="/3.1.0/pl/" class="lang"><img src="//d1ztvzf22lmr1j.cloudfront.net/images/flags/pl.png" alt="Flag for Polish"/></a></li>
          <li><a href="/3.1.0/pt-BR/" class="lang"><img src="//d1ztvzf22lmr1j.cloudfront.net/images/flags/pt-BR.png" alt="Flag for Portuguese, Brazilian"/></a></li>
          <li><a href="/3.1.0/pt-PT/" class="lang"><img src="//d1ztvzf22lmr1j.cloudfront.net/images/flags/pt-PT.png" alt="Flag for Portuguese"/></a></li>
          <li><a href="/3.1.0/ru/" class="lang"><img src="//d1ztvzf22lmr1j.cloudfront.net/images/flags/ru.png" alt="Flag for Russian"/></a></li>
          <li><a href="/3.1.0/uk/" class="lang"><img src="//d1ztvzf22lmr1j.cloudfront.net/images/flags/uk.png" alt="Flag for Ukrainian"/></a></li>
          <li><a href="/3.1.0/zh-CN/" class="lang"><img src="//d1ztvzf22lmr1j.cloudfront.net/images/flags/zh-CN.png" alt="Flag for Chinese Simplified"/></a></li>
          <li><a href="/3.1.0/zh-TW/" class="lang"><img src="//d1ztvzf22lmr1j.cloudfront.net/images/flags/zh-TW.png" alt="Flag for Chinese Traditional"/></a></li>
        </ul>
    </div>
    <div class="menu-right">
      <div><i class="fa fa-fw fa-tag"></i><a>3.1.0</a></div>
        <ul class="dropdown" id="ddvers">
          <li><a href="/master/en/"><i class="fa fa-fw fa-tag"></i> latest</a></li>
          <li><a href="/3.1.0/en/"><i class="fa fa-fw fa-tag"></i> 3.1.0</a></li>
        </ul>
    </div>
    <div class="menu-right">
      <div title="Toggle syntax highlighting between light and dark" class="lights">
        <i class="fa fa-fw fa-lightbulb-o"></i>
      </div>
    </div>
    <div>
      <ul class="controls">
        <li>|</li>
        
        <li><a href="ray-tracing.html" title="Next Page"><i class="fa fa-fw fa-chevron-right"></i></a></li>
        
        <li><a href="#top" title="To the top"><i class="fa fa-fw fa-chevron-up"></i></a></li>
        <li><a href="../index.html" title="Home"><i class="fa fa-fw fa-home"></i></a></li>
        
        <li><a href="debugging.html" title="Previous Page"><i class="fa fa-fw fa-chevron-left"></i></a></li>
        
        <li>|</li>
        
          <li><a href="https://github.com/SpongePowered/SpongeDocs/blob/master/source/plugin/messagechannels.rst" title="Edit on GitHub"><i class="fa fa-fw fa-github"></i></a></li>
        
      </ul>
    </div>
    <h3>Navigacija</h3>
  </div>
    </div>
    <div class="container">

      <div class="breadcrumbs">
        <ul>
        <li><a href="../index.html">Sponge 3.1.0 documentation</a><i class="fa fa-fw fa-chevron-right"></i></li>
        <li><a href="index.html" accesskey="U">Įskiepių kūrimas</a><i class="fa fa-fw fa-chevron-right"></i></li>
        </ul>
      </div> 
    <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
      <div class="sphinxsidebarwrapper">
<div id="searchbox" style="display: none" role="search">
    <form class="search" action="../search.html" method="get">
      <div class="searchbox-inner">
        <input class="field" type="text" name="q" autocomplete="off" />
        <button class="submit" type="submit"><i class="fa fa-fw fa-search" aria-hidden="true"></i></button>
        <input type="hidden" name="check_keywords" value="yes" />
        <input type="hidden" name="area" value="default" />
      </div>
    </form>
    <p class="searchtip" style="font-size: 90%"></p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script><h3><a href="../index.html">Turinys</a></h3>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../server/index.html">Serverio kūrimas</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../server/getting-started/index.html">Pradedant</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../server/getting-started/jre.html">Java diegimas</a><ul class="simple">
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../server/getting-started/migrating.html">Migruojant į Sponge</a><ul class="simple">
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../server/getting-started/implementations/index.html">Renkantis įgyvendinimą</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../server/getting-started/implementations/spongeforge.html">SpongeForge diegimas</a></li>
<li class="toctree-l4"><a class="reference internal" href="../server/getting-started/implementations/spongevanilla.html">SpongeVanilla diegimas</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../server/getting-started/launch-script.html">Paleidimo skripto kūrimas</a><ul class="simple">
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../server/getting-started/port-forward.html">Portų atidarymas</a></li>
<li class="toctree-l3"><a class="reference internal" href="../server/getting-started/bungeecord.html">Naudojant Sponge su BungeeCord</a><ul class="simple">
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../server/getting-started/configuration/index.html">Sponge konfigūravimas</a><ul>
<li class="toctree-l4"><a class="reference internal" href="../server/getting-started/configuration/hocon.html">Įvadas į HOCON</a></li>
<li class="toctree-l4"><a class="reference internal" href="../server/getting-started/configuration/json.html">JSON sintaksė</a></li>
<li class="toctree-l4"><a class="reference internal" href="../server/getting-started/configuration/sponge-conf.html">global.conf</a></li>
<li class="toctree-l4"><a class="reference internal" href="../server/getting-started/configuration/server-properties.html">server.properties</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../server/management/index.html">Serverio valdymas</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../server/management/whitelist.html">Baltojo sąrašo valdymas</a></li>
<li class="toctree-l3"><a class="reference internal" href="../server/management/bans.html">Valdyti uždraudimus</a></li>
<li class="toctree-l3"><a class="reference internal" href="../server/management/permissions.html">Tvarkyti privilegijas</a><ul class="simple">
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../server/management/plugins.html">Įskiepių diegimas</a><ul class="simple">
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../server/management/exploit-patches.html">Išnaudoti atnaujinimus</a><ul class="simple">
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../server/spongineer/index.html">Tampant Sponge ekspertu (Expert Spongineer)</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../server/spongineer/commands.html">Komandų eilutės</a><ul class="simple">
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../server/spongineer/troubleshooting.html">Trigdžių šalinimas</a><ul class="simple">
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../server/spongineer/logs.html">Įrašyti failai</a><ul class="simple">
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../server/spongineer/debugging.html">Derinimas</a><ul class="simple">
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../server/spongineer/bugreport.html">Klaidų pranešimas</a></li>
</ul>
</li>
</ul>
</li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../preparing/index.html">Pasiruošimas plėtrai</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../preparing/jdk.html">JDK diegimas</a><ul class="simple">
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../preparing/ide.html">IDE diegimas</a><ul class="simple">
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../preparing/text.html">Tekso redaktoriaus diegimas</a><ul class="simple">
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../preparing/git.html">Git diegimas</a><ul class="simple">
</ul>
</li>
</ul>
</li>
</ul>
<ul class="current">
<li class="toctree-l1 current"><a class="reference internal" href="index.html">Įskiepių kūrimas</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="workspace/index.html">Darbo vietos nustatymas</a><ul>
<li class="toctree-l3"><a class="reference internal" href="workspace/idea.html">Intellij IDEA nustatymas</a><ul class="simple">
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="workspace/eclipse.html">Eclipse nustatymas</a><ul class="simple">
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="workspace/netbeans.html">NetBeans nustatymas</a><ul class="simple">
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="workspace/dependencies.html">Įtraukiant Sponge API priklausomybes</a><ul class="simple">
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="practices.html">Geriausios praktikos</a><ul class="simple">
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="templates.html">Įskiepio šablonai</a><ul class="simple">
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="bukkit-sponge-compare.html">Lyginant Bukkit su SpongeAPI</a></li>
<li class="toctree-l2"><a class="reference internal" href="main-class.html">Pagrindinio įskiepio klasės kūrimas</a><ul class="simple">
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="lifecycle.html">Įskiepio gyvenimo ciklas</a><ul class="simple">
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="optional/index.html">Pasirinktini</a><ul>
<li class="toctree-l3"><a class="reference internal" href="optional/basic.html">Pasirinktini paaiškinti</a><ul class="simple">
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="optional/usage.html">Naudojimo pavyzdžiai</a><ul class="simple">
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="logging.html">Įrašymas ir derinimas</a><ul class="simple">
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="text/index.html">Dirbant su tekstu</a><ul>
<li class="toctree-l3"><a class="reference internal" href="text/text.html">Teksto kūrimas</a><ul class="simple">
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="text/representations/index.html">Tekso serializai</a><ul>
<li class="toctree-l4"><a class="reference internal" href="text/representations/formatting-code-legacy.html">Kodo formatavimas ir senų versijų formatavimas</a></li>
<li class="toctree-l4"><a class="reference internal" href="text/representations/xml.html">TextXML formatas</a></li>
<li class="toctree-l4"><a class="reference internal" href="text/representations/json.html">JSON formatas</a></li>
<li class="toctree-l4"><a class="reference internal" href="text/representations/configurate.html">Konfigūracijos formatas</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="text/pagination.html">The Pagination Service</a><ul class="simple">
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="text/templates.html">Dirbant su teksto šablonais</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="commands/index.html">Komandų eilutės kūrimas</a><ul>
<li class="toctree-l3"><a class="reference internal" href="commands/creating.html">Komandos eilutės kūrimas</a><ul class="simple">
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="commands/arguments.html">Argumento analizė</a><ul class="simple">
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="commands/childcommands.html">&#8220;Child&#8221; komandų eilutės</a></li>
<li class="toctree-l3"><a class="reference internal" href="commands/service.html">Komandų eilučių vadovas</a></li>
<li class="toctree-l3"><a class="reference internal" href="commands/commandcallable.html">Žemo lygio komandos eilutė API</a><ul class="simple">
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="event/index.html">Dirbant su subjektais</a><ul>
<li class="toctree-l3"><a class="reference internal" href="event/listeners.html">Įvikių klausytojai</a><ul class="simple">
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="event/causes.html">Įvykių priežąstys</a><ul class="simple">
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="event/filters.html">Įvikių filtrai</a><ul class="simple">
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="event/custom.html">Nestardantinių įvykių kūrimas</a><ul class="simple">
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="configuration/index.html">Įsikiepių konfigūravimas</a><ul>
<li class="toctree-l3"><a class="reference internal" href="configuration/loaders.html">Konfigūracijos krautuvai</a><ul class="simple">
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="configuration/nodes.html">Konfigūracijos taškai</a><ul class="simple">
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="configuration/serialization.html">Perduodamų objektų išdėstymas eilutėmis</a><ul class="simple">
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="data/index.html">API duomenys</a><ul>
<li class="toctree-l3"><a class="reference internal" href="data/keys.html">Naudodami raktus</a><ul class="simple">
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="data/datamanipulators.html">Duomenų manipuliatoriai</a><ul class="simple">
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="data/transactions.html">Pervedimai</a><ul class="simple">
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="data/serialization.html">Serializing Data</a><ul class="simple">
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="blocks/index.html">Dirbant su blokais</a><ul>
<li class="toctree-l3"><a class="reference internal" href="blocks/concepts.html">Sąvokos</a><ul class="simple">
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="blocks/accessing.html">Gauti leidimą į blokus</a><ul class="simple">
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="blocks/modifying.html">Blokų modifikacija</a><ul class="simple">
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="blocks/tileentities.html">Dirbant su ypatingais subjektais</a><ul class="simple">
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="entities/index.html">Dirbant su subjektais</a><ul>
<li class="toctree-l3"><a class="reference internal" href="entities/spawning.html">Subjekto &#8220;spawninimas&#8221;</a></li>
<li class="toctree-l3"><a class="reference internal" href="entities/modifying.html">Subjekto modifikavimas</a><ul class="simple">
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="items/index.html">Dirbant su dalykais</a><ul>
<li class="toctree-l3"><a class="reference internal" href="items/usage.html">Pagrindinis daiktų naudojimas</a><ul class="simple">
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="items/creating.html">ItemStack kūrimas</a><ul class="simple">
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="injection.html">Injekcijos priklausomybė</a><ul class="simple">
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="scheduler.html">Naudodami planavimo programą</a><ul class="simple">
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="database.html">Darbas su duomenų bazėmis</a><ul class="simple">
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="permissions.html">Dirbant su privilegijų API</a></li>
<li class="toctree-l2"><a class="reference internal" href="economy/index.html">Ekonomikos API</a><ul>
<li class="toctree-l3"><a class="reference internal" href="economy/basics.html">Pagrindines sąvokos</a><ul class="simple">
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="economy/using.html">Naudojant ekonomikos API</a><ul class="simple">
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="economy/practices.html">Ekonomikos API geriausios patirtys</a><ul class="simple">
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="economy/implementing.html">Įgyvendinant ekonomikos API</a><ul class="simple">
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="services.html">Dirbant su paslaugomis</a><ul class="simple">
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="wgen/index.html">Pasaulio generacija</a><ul>
<li class="toctree-l3"><a class="reference internal" href="wgen/modifiers.html">Dirbant su pasaulio generacijos modifikacijomis</a><ul class="simple">
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="wgen/customwgen.html">Modifikuojant pasaulio generaciją</a><ul class="simple">
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="manager.html">Using the Plugin Manager</a><ul class="simple">
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="debugging.html">Įskiepio derinimas</a><ul class="simple">
</ul>
</li>
<li class="toctree-l2 current"><a class="current reference internal" href="">Žinučių kanalai</a><ul class="simple">
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="ray-tracing.html">Ray sekimas</a><ul class="simple">
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="tutorials.html">Pamokos</a><ul class="simple">
</ul>
</li>
</ul>
</li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../contributing/index.html">Prisidedant prie Sponge</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../contributing/guidelines.html">Įnašas gaires</a><ul class="simple">
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../contributing/howtogit.html">Kaip Git(Hub)</a><ul class="simple">
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../contributing/implementation/index.html">Sponge plėtojimas</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../contributing/implementation/codestyle.html">Kodo stilius</a><ul class="simple">
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../contributing/implementation/git-implementation.html">Git dargo eigos API ir diegimas</a><ul class="simple">
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../contributing/implementation/pr.html">Pull-Request pateikimas</a><ul class="simple">
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../contributing/implementation/debugging.html">Sponge derinimas per IDE</a></li>
<li class="toctree-l3"><a class="reference internal" href="../contributing/implementation/mixins.html">Įmaišytieji</a></li>
<li class="toctree-l3"><a class="reference internal" href="../contributing/implementation/datamanipulator.html">Duomenų manipuliatorių igyvendinimas</a><ul class="simple">
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../contributing/spongedocs.html">SpongeDocs rašymas</a><ul class="simple">
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../contributing/porting.html">Perkuriant Sponge ant kitų platformų</a><ul class="simple">
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../contributing/versioning.html">Versioning System and Repository Branch Layout</a><ul class="simple">
</ul>
</li>
</ul>
</li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../about/index.html">Apie Sponge projektą</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../about/introduction.html">Įvadas</a><ul class="simple">
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../about/faq.html">Dažniausiai užduodami klausimai</a><ul class="simple">
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../about/structure.html">Sponge projekto struktūra</a><ul class="simple">
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../about/future.html">Ateities planai</a></li>
<li class="toctree-l2"><a class="reference internal" href="../about/license.html">Licenzija</a></li>
<li class="toctree-l2"><a class="reference internal" href="../about/posting.html">Gairių skelbimas forume</a><ul class="simple">
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../about/rules.html">Forumo ir IRC taisyklės</a></li>
<li class="toctree-l2"><a class="reference internal" href="../about/staff.html">Darbuotojas</a><ul class="simple">
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../about/glossary.html">Sponge žodynėlis</a><ul class="simple">
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../about/assets.html">Meno turtai</a><ul class="simple">
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../about/history.html">Sponge istorija</a><ul class="simple">
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../downloads.html">Siuntiniai</a><ul class="simple">
</ul>
</li>
</ul>
<ul class="simple">
</ul>

      </div>
    </div> 

        <div class="document">
            <div class="documentwrapper">
              <div class="bodywrapper">
                <div class="body" role="main">
                  
  <div class="section" id="message-channels">
<h1>Žinučių kanalai<a class="headerlink" href="#message-channels" title="Nuoroda į šią antraštę">¶</a></h1>
<p>In Sponge, every object that messages may be sent to implements the <code class="docutils literal"><span class="pre">MessageReceiver</span></code> interface. A <code class="docutils literal"><span class="pre">MessageChannel</span></code>
is a device that may send messages to an arbitrary number of <code class="docutils literal"><span class="pre">MessageReceiver</span></code>s and even perform actions like
recipient-specific formatting of the message.</p>
<div class="section" id="selecting-message-recipients">
<h2>Pranešimo gavėjų pasirinkimas<a class="headerlink" href="#selecting-message-recipients" title="Nuoroda į šią antraštę">¶</a></h2>
<p>Within the <code class="docutils literal"><span class="pre">MessageChannel</span></code> interface there are constants and static methods that can be used to obtain or create
commonly used channels. There are also other classes and interfaces that can be used to create a <code class="docutils literal"><span class="pre">MessageChannel</span></code>,
such as <code class="docutils literal"><span class="pre">AbstractMutableMessageChannel</span></code> and <code class="docutils literal"><span class="pre">MutableMessageChannel</span></code>. A complete list of these can be found at
<code class="docutils literal"><span class="pre">org.spongepowered.api.text.channel</span></code> and its sub-packages.</p>
<div class="section" id="broadcasting">
<h3>Broadcasting<a class="headerlink" href="#broadcasting" title="Nuoroda į šią antraštę">¶</a></h3>
<p>The most common channel will be the broadcasting channel. It can be obtained either from the <code class="docutils literal"><span class="pre">Server</span></code> via the
<code class="docutils literal"><span class="pre">getBroadcastChannel()</span></code> method or from either the <code class="docutils literal"><span class="pre">MessageChannel.TO_PLAYERS</span></code> or <code class="docutils literal"><span class="pre">MessageChannel.TO_ALL</span></code>
constant. The only difference is that <code class="docutils literal"><span class="pre">TO_ALL</span></code> includes not only every player connected to the server but also the
server <code class="docutils literal"><span class="pre">Console</span></code>.</p>
<p>The channel returned by <code class="docutils literal"><span class="pre">getBroadcastChannel()</span></code> will generally be the <code class="docutils literal"><span class="pre">MessageChannel.TO_ALL</span></code> channel, however a
different channel may be set using the <code class="docutils literal"><span class="pre">setBroadcastChannel()</span></code> method.</p>
</div>
<div class="section" id="sending-to-a-fixed-list-of-messagereceivers">
<h3>Sending to a Fixed List of MessageReceivers<a class="headerlink" href="#sending-to-a-fixed-list-of-messagereceivers" title="Nuoroda į šią antraštę">¶</a></h3>
<p>It is also possible to send a message not to all players connected, but to a number of hand-selected receivers. This
can be done by passing the list of the intended recipients to the <code class="docutils literal"><span class="pre">MessageChannel.fixed(MessageReceiver...</span> <span class="pre">receiver)</span></code>
method. Unlike most other channels, the list of recipients will not be generated dynamically every time something is
sent through the channel but remains static for the rest of its existence. However, the references kept are <em>weak</em>.
This means that if for example a player disconnects and the corresponding <code class="docutils literal"><span class="pre">Player</span></code> object is removed by Java&#8217;s
<em>garbage collector</em>, that player will also vanish from the channels recipient list.</p>
</div>
<div class="section" id="permission-based-selection">
<h3>Permission-based Selection<a class="headerlink" href="#permission-based-selection" title="Nuoroda į šią antraštę">¶</a></h3>
<p>It is also possible to create a channel sending to all recipients that hold a specific permission. The channel is
obtained from the <code class="docutils literal"><span class="pre">MessageChannel.permission(String</span> <span class="pre">permission)</span></code> method with the permission to check for as an
argument. When a message is then sent through this channel, it will obtain all subjects from the <code class="docutils literal"><span class="pre">PermissionManager</span></code>
that have the given permission.</p>
</div>
<div class="section" id="combining-channels">
<h3>Combining Channels<a class="headerlink" href="#combining-channels" title="Nuoroda į šią antraštę">¶</a></h3>
<p>It is also possible to combine multiple channels into one. This can be done by passing all channels into the
<code class="docutils literal"><span class="pre">MessageChannel.combined(MessageChannel...</span> <span class="pre">channels)</span></code> method. The resulting channel will relay messages to every
recipient that is targeted by at least one of the combined channels.</p>
</div>
</div>
<div class="section" id="sending-messages">
<h2>Sending Messages<a class="headerlink" href="#sending-messages" title="Nuoroda į šią antraštę">¶</a></h2>
<p>Once you have obtained a <code class="docutils literal"><span class="pre">MessageChannel</span></code> you can send a message through it via the <code class="docutils literal"><span class="pre">send(Object</span> <span class="pre">sender,</span> <span class="pre">Text</span>
<span class="pre">message)</span></code> method. This method is preferred over the <code class="docutils literal"><span class="pre">send(Text</span> <span class="pre">message)</span></code> method, as the <code class="docutils literal"><span class="pre">Object</span></code> can be
used for identification or for performing other various actions.
The channel will then transform the message for every recipient and send the transformed message.</p>
<div class="section" id="extended-application-chat-channels">
<h3>Extended Application: Chat Channels<a class="headerlink" href="#extended-application-chat-channels" title="Nuoroda į šią antraštę">¶</a></h3>
<p>Message channels have a very useful application as they can be used to establish chat channels. For example, you could
establish a message channel for every chat channel you wish to have. Then, when a <code class="docutils literal"><span class="pre">MessageReceiver</span></code> joins a channel,
such as with <code class="docutils literal"><span class="pre">/join</span> <span class="pre">&lt;channel</span> <span class="pre">name&gt;</span></code>, simply set the <code class="docutils literal"><span class="pre">MessageReceiver</span></code>&#8216;s <code class="docutils literal"><span class="pre">MessageChannel</span></code> to the appropriate
channel using the <code class="docutils literal"><span class="pre">MessageReceiver#setMessageChannel(MessageChannel</span> <span class="pre">channel)</span></code>. This will cause every message sent
<em>from</em> the <code class="docutils literal"><span class="pre">MessageReceiver</span></code> to be passed to the given <code class="docutils literal"><span class="pre">MessageChannel</span></code> instead of the default one. Alternatively,
you could listen to <code class="docutils literal"><span class="pre">MessageChannelEvent</span></code>, and set the appropriate <code class="docutils literal"><span class="pre">MessageChannel</span></code> using
<code class="docutils literal"><span class="pre">MessageChannelEvent#setChannel(MessageChannel</span> <span class="pre">channel)</span></code>. Passing <code class="docutils literal"><span class="pre">null</span></code> to that method will unset any custom
channel, causing the message to be sent to the original MessageChannel instead.</p>
</div>
</div>
<div class="section" id="transforming-messages">
<h2>Transforming Messages<a class="headerlink" href="#transforming-messages" title="Nuoroda į šią antraštę">¶</a></h2>
<p>You can apply a filter to all <code class="docutils literal"><span class="pre">Text</span></code>s that pass through a <code class="docutils literal"><span class="pre">MessageChannel</span></code> to change the message however you
like. This is possible by extending <code class="docutils literal"><span class="pre">MessageChannel</span></code> and overriding the <code class="docutils literal"><span class="pre">transformMessage(Object</span> <span class="pre">sender,</span>
<span class="pre">MessageReceiver</span> <span class="pre">recipient,</span> <span class="pre">Text</span> <span class="pre">original)</span></code> method as demonstrated below.</p>
<p><strong>Example: Transforming Messages</strong></p>
<p>The following code excerpt defines an <code class="docutils literal"><span class="pre">AdminMessageChannel</span></code> class which overrides the default <code class="docutils literal"><span class="pre">transformMessage</span></code>
method. The new <code class="docutils literal"><span class="pre">transformMessage</span></code> method will take the original message and append a red <code class="docutils literal"><span class="pre">[Admin]</span></code> tag to the
front of the message.</p>
<div class="highlight-java"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">java.util.Collection</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.util.Collections</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.util.Optional</span><span class="o">;</span>

<span class="kn">import</span> <span class="nn">org.spongepowered.api.text.Text</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">org.spongepowered.api.text.channel.MessageChannel</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">org.spongepowered.api.text.channel.MessageReceiver</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">org.spongepowered.api.text.format.TextColors</span><span class="o">;</span>

<span class="kd">public</span> <span class="kd">class</span> <span class="nc">AdminMessageChannel</span> <span class="kd">implements</span> <span class="n">MessageChannel</span> <span class="o">{</span>

    <span class="nd">@Override</span>
    <span class="kd">public</span> <span class="n">Optional</span><span class="o">&lt;</span><span class="n">Text</span><span class="o">&gt;</span> <span class="nf">transformMessage</span><span class="o">(</span><span class="n">Object</span> <span class="n">sender</span><span class="o">,</span> <span class="n">MessageReceiver</span> <span class="n">recipient</span><span class="o">,</span>
                                                                <span class="n">Text</span> <span class="n">original</span><span class="o">)</span> <span class="o">{</span>
        <span class="n">Text</span> <span class="n">text</span> <span class="o">=</span> <span class="n">original</span><span class="o">;</span>
        <span class="n">text</span> <span class="o">=</span> <span class="n">Text</span><span class="o">.</span><span class="na">of</span><span class="o">(</span><span class="n">TextColors</span><span class="o">.</span><span class="na">RED</span><span class="o">,</span> <span class="s">&quot;[Admin]&quot;</span><span class="o">,</span> <span class="n">TextColors</span><span class="o">.</span><span class="na">RESET</span><span class="o">,</span> <span class="n">text</span><span class="o">);</span>
        <span class="k">return</span> <span class="n">Optional</span><span class="o">.</span><span class="na">of</span><span class="o">(</span><span class="n">text</span><span class="o">);</span>
    <span class="o">}</span>

    <span class="nd">@Override</span>
    <span class="kd">public</span> <span class="n">Collection</span><span class="o">&lt;</span><span class="n">MessageReceiver</span><span class="o">&gt;</span> <span class="nf">getMembers</span><span class="o">()</span> <span class="o">{</span>
        <span class="k">return</span> <span class="n">Collections</span><span class="o">.</span><span class="na">emptyList</span><span class="o">();</span>
    <span class="o">}</span>
<span class="o">}</span>
</pre></div>
</div>
<p>Note that we do not wish to define any additional recipients, so we return an empty collection in the <code class="docutils literal"><span class="pre">getMembers</span></code>
method.</p>
<p>Thanks to the capabilities of combined <code class="docutils literal"><span class="pre">MessageChannel</span></code>s, we can combine our newly created <code class="docutils literal"><span class="pre">AdminMessageChannel</span></code>
with any other <code class="docutils literal"><span class="pre">MessageChannel</span></code>. Now if a player joins with the <code class="docutils literal"><span class="pre">myplugin.admin</span></code> permission, we will obtain the
<code class="docutils literal"><span class="pre">MessageChannel</span></code> his messages are sent to, combine it with an <code class="docutils literal"><span class="pre">AdminMessageChannel</span></code> and set the combined channel
back onto the player. That way all his messages are sent to everyone specified in the original channel, but due to the
addition of the <code class="docutils literal"><span class="pre">AdminMessageChannel</span></code>, a red <code class="docutils literal"><span class="pre">[Admin]</span></code> tag will be prefixed.</p>
<div class="highlight-java"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">org.spongepowered.api.entity.living.player.Player</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">org.spongepowered.api.event.Listener</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">org.spongepowered.api.event.network.ClientConnectionEvent</span><span class="o">;</span>

<span class="kd">private</span> <span class="n">AdminMessageChannel</span> <span class="n">adminChannel</span> <span class="o">=</span> <span class="k">new</span> <span class="n">AdminMessageChannel</span><span class="o">();</span>

<span class="nd">@Listener</span>
<span class="kd">public</span> <span class="kt">void</span> <span class="nf">onClientConnectionJoin</span><span class="o">(</span><span class="n">ClientConnectionEvent</span><span class="o">.</span><span class="na">Join</span> <span class="n">event</span><span class="o">)</span> <span class="o">{</span>
    <span class="n">Player</span> <span class="n">player</span> <span class="o">=</span> <span class="n">event</span><span class="o">.</span><span class="na">getTargetEntity</span><span class="o">();</span>
    <span class="k">if</span><span class="o">(</span><span class="n">player</span><span class="o">.</span><span class="na">hasPermission</span><span class="o">(</span><span class="s">&quot;myplugin.admin&quot;</span><span class="o">))</span> <span class="o">{</span>
        <span class="n">MessageChannel</span> <span class="n">originalChannel</span> <span class="o">=</span> <span class="n">event</span><span class="o">.</span><span class="na">getOriginalChannel</span><span class="o">();</span>
        <span class="n">MessageChannel</span> <span class="n">newChannel</span> <span class="o">=</span> <span class="n">MessageChannel</span><span class="o">.</span><span class="na">combined</span><span class="o">(</span><span class="n">originalChannel</span><span class="o">,</span>
            <span class="n">adminChannel</span><span class="o">);</span>
        <span class="n">player</span><span class="o">.</span><span class="na">setMessageChannel</span><span class="o">(</span><span class="n">newChannel</span><span class="o">);</span>
    <span class="o">}</span>
<span class="o">}</span>
</pre></div>
</div>
<p>Note that this will prefix <cite>all</cite> messages pertaining to a player. This includes death messages, leave messages, etc. If
you only want to prefix all <cite>chat</cite> messages, you would need to listen to <code class="docutils literal"><span class="pre">MessageChannelEvent.Chat</span></code> and set the
channel onto the event rather than the player. This would be done using <code class="docutils literal"><span class="pre">event.setChannel(newChannel)</span></code> onto the
<code class="docutils literal"><span class="pre">MessageChannelEvent.Chat</span></code> event. To get the player from the event to check for permissions, you would need to get a
<code class="docutils literal"><span class="pre">Player</span></code> from the <code class="docutils literal"><span class="pre">Cause</span></code> of the event. This is demonstrated below:</p>
<div class="highlight-java"><div class="highlight"><pre><span></span><span class="n">Optional</span><span class="o">&lt;</span><span class="n">Player</span><span class="o">&gt;</span> <span class="n">playerOptional</span> <span class="o">=</span> <span class="n">event</span><span class="o">.</span><span class="na">getCause</span><span class="o">().&lt;</span><span class="n">Player</span><span class="o">&gt;</span><span class="n">first</span><span class="o">(</span><span class="n">Player</span><span class="o">.</span><span class="na">class</span><span class="o">);</span>
</pre></div>
</div>
<p>More on causes can be found on the <a class="reference internal" href="event/causes.html"><em>causes page</em></a></p>
<div class="admonition note">
<p class="first admonition-title">Pastaba</p>
<p class="last">When combining multiple <code class="docutils literal"><span class="pre">MessageChannel</span></code>s defining different message transformations, the <code class="docutils literal"><span class="pre">Text</span></code> will be
transformed in the order that the <code class="docutils literal"><span class="pre">MessageChannel</span></code>s are passed in to the
<code class="docutils literal"><span class="pre">MessageChannel#combined(MessageChannel...</span> <span class="pre">channels)</span></code> method. Note that any transformations resulting in an
empty <code class="docutils literal"><span class="pre">Optional</span></code> will be ignored unless performed by the last channel in the chain.</p>
</div>
</div>
<div class="section" id="mutable-message-channels">
<h2>Mutable Message Channels<a class="headerlink" href="#mutable-message-channels" title="Nuoroda į šią antraštę">¶</a></h2>
<p>A <code class="docutils literal"><span class="pre">MutableMessageChannel</span></code> contains methods for changing who may receive the messages sent through our channel. As
such, we must implement methods for performing actions that modify our members. To do this, we simply will create a
class named <code class="docutils literal"><span class="pre">MutableAdminMessageChannel</span></code> that will implement a <code class="docutils literal"><span class="pre">MutableMessageChannel</span></code>.</p>
<div class="highlight-java"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">java.util.Set</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.util.WeakHashMap</span><span class="o">;</span>

<span class="kn">import</span> <span class="nn">org.spongepowered.api.text.channel.MutableMessageChannel</span><span class="o">;</span>

<span class="kd">public</span> <span class="kd">class</span> <span class="nc">MutableAdminMessageChannel</span> <span class="kd">implements</span> <span class="n">MutableMessageChannel</span> <span class="o">{</span>

    <span class="kd">private</span> <span class="n">Set</span><span class="o">&lt;</span><span class="n">MessageReceiver</span><span class="o">&gt;</span> <span class="n">members</span><span class="o">;</span>

    <span class="kd">public</span> <span class="nf">MutableAdminMessageChannel</span><span class="o">()</span> <span class="o">{</span>
        <span class="k">this</span><span class="o">(</span><span class="n">Collections</span><span class="o">.</span><span class="na">emptySet</span><span class="o">());</span>
    <span class="o">}</span>

    <span class="kd">public</span> <span class="nf">MutableAdminMessageChannel</span><span class="o">(</span><span class="n">Collection</span><span class="o">&lt;</span><span class="n">MessageReceiver</span><span class="o">&gt;</span> <span class="n">members</span><span class="o">)</span> <span class="o">{</span>
        <span class="k">this</span><span class="o">.</span><span class="na">members</span> <span class="o">=</span> <span class="n">Collections</span><span class="o">.</span><span class="na">newSetFromMap</span><span class="o">(</span><span class="k">new</span> <span class="n">WeakHashMap</span><span class="o">&lt;&gt;());</span>
        <span class="k">this</span><span class="o">.</span><span class="na">members</span><span class="o">.</span><span class="na">addAll</span><span class="o">(</span><span class="n">members</span><span class="o">);</span>
    <span class="o">}</span>

    <span class="nd">@Override</span>
    <span class="kd">public</span> <span class="n">Collection</span><span class="o">&lt;</span><span class="n">MessageReceiver</span><span class="o">&gt;</span> <span class="nf">getMembers</span><span class="o">()</span> <span class="o">{</span>
        <span class="k">return</span> <span class="n">Collections</span><span class="o">.</span><span class="na">unmodifiableSet</span><span class="o">(</span><span class="k">this</span><span class="o">.</span><span class="na">members</span><span class="o">);</span>
    <span class="o">}</span>

    <span class="nd">@Override</span>
    <span class="kd">public</span> <span class="kt">boolean</span> <span class="nf">addMember</span><span class="o">(</span><span class="n">MessageReceiver</span> <span class="n">member</span><span class="o">)</span> <span class="o">{</span>
        <span class="k">return</span> <span class="k">this</span><span class="o">.</span><span class="na">members</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="n">member</span><span class="o">);</span>
    <span class="o">}</span>

    <span class="nd">@Override</span>
    <span class="kd">public</span> <span class="kt">boolean</span> <span class="nf">removeMember</span><span class="o">(</span><span class="n">MessageReceiver</span> <span class="n">member</span><span class="o">)</span> <span class="o">{</span>
        <span class="k">return</span> <span class="k">this</span><span class="o">.</span><span class="na">members</span><span class="o">.</span><span class="na">remove</span><span class="o">(</span><span class="n">member</span><span class="o">);</span>
    <span class="o">}</span>

    <span class="nd">@Override</span>
    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">clearMembers</span><span class="o">()</span> <span class="o">{</span>
        <span class="k">this</span><span class="o">.</span><span class="na">members</span><span class="o">.</span><span class="na">clear</span><span class="o">();</span>
    <span class="o">}</span>

    <span class="nd">@Override</span>
    <span class="kd">public</span> <span class="n">Optional</span><span class="o">&lt;</span><span class="n">Text</span><span class="o">&gt;</span> <span class="nf">transformMessage</span><span class="o">(</span><span class="n">Object</span> <span class="n">sender</span><span class="o">,</span> <span class="n">MessageReceiver</span> <span class="n">recipient</span><span class="o">,</span>
                                                                <span class="n">Text</span> <span class="n">original</span><span class="o">)</span> <span class="o">{</span>
        <span class="n">Text</span> <span class="n">text</span> <span class="o">=</span> <span class="n">original</span><span class="o">;</span>
        <span class="k">if</span><span class="o">(</span><span class="k">this</span><span class="o">.</span><span class="na">members</span><span class="o">.</span><span class="na">contains</span><span class="o">(</span><span class="n">recipient</span><span class="o">))</span> <span class="o">{</span>
            <span class="n">text</span> <span class="o">=</span> <span class="n">Text</span><span class="o">.</span><span class="na">of</span><span class="o">(</span><span class="n">TextColors</span><span class="o">.</span><span class="na">RED</span><span class="o">,</span> <span class="s">&quot;[Admin]&quot;</span><span class="o">,</span> <span class="n">TextColors</span><span class="o">.</span><span class="na">RESET</span><span class="o">,</span> <span class="n">text</span><span class="o">);</span>
        <span class="o">}</span>
        <span class="k">return</span> <span class="n">Optional</span><span class="o">.</span><span class="na">of</span><span class="o">(</span><span class="n">text</span><span class="o">);</span>
    <span class="o">}</span>
<span class="o">}</span>
</pre></div>
</div>
<p>The main difference between our <code class="docutils literal"><span class="pre">AdminMessageChannel</span></code> and our new <code class="docutils literal"><span class="pre">MutableAdminMessageChannel</span></code> is that we check if
the recipient is in the member list before transforming the message. If it is, then we may alter the message that is
sent, appending the red <code class="docutils literal"><span class="pre">[Admin]</span></code> prefix. In our <code class="docutils literal"><span class="pre">getMembers()</span></code> method we return an immutable set, so that the set
can only be modified by the appropriate methods in our <code class="docutils literal"><span class="pre">MutableAdminMessageChannel</span></code>.</p>
<p>Note that an abstract implementation for <code class="docutils literal"><span class="pre">MutableMessageChannel</span></code>s exists in the Sponge API as
<code class="docutils literal"><span class="pre">AbstractMutableMessageChannel</span></code>. Also note that our members do not persist. If a player were to leave the server,
they would be removed from the set.</p>
<div class="section" id="modifying-the-members">
<h3>Modifying the Members<a class="headerlink" href="#modifying-the-members" title="Nuoroda į šią antraštę">¶</a></h3>
<p>To make full use of our <code class="docutils literal"><span class="pre">MutableAdminMessageChannel</span></code>, we need to be able to add and remove members from the channel.
To do this, we can simply call our <code class="docutils literal"><span class="pre">addMember(MessageReceiver</span> <span class="pre">member)</span></code> and <code class="docutils literal"><span class="pre">removeMember(MessageReceiver</span> <span class="pre">member)</span></code>
methods we implemented previously whenever we need to add or remove a member from the member set.</p>
</div>
</div>
</div>


                </div>
              </div>
            </div>
          <div class="clearer"></div>
        </div>
        <div class="footer" role="contentinfo">
              &copy; Autoriaus teisės 2014-2016, Sponge Contributors.
            Sukurta naudojant <a href="http://sphinx-doc.org/">Sphinx</a> 1.3.3.
        </div>
    </div>
  </body>
</html>